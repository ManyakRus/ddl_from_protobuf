
CREATE TABLE IF NOT EXISTS "tin"."tinkoff_access_level" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_access_level_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_access_level_id_idx" ON "tin"."tinkoff_access_level" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_access_level" IS 'Уровень доступа к счёту.';
COMMENT ON COLUMN "tin"."tinkoff_access_level"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_access_level"."name" IS 'Наименование';
INSERT INTO "tinkoff_access_level"(id, name) VALUES
(0, 'ACCOUNT_ACCESS_LEVEL_UNSPECIFIED'),
(1, 'ACCOUNT_ACCESS_LEVEL_FULL_ACCESS'),
(2, 'ACCOUNT_ACCESS_LEVEL_READ_ONLY'),
(3, 'ACCOUNT_ACCESS_LEVEL_NO_ACCESS');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_account_status" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_account_status_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_account_status_id_idx" ON "tin"."tinkoff_account_status" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_account_status" IS 'Статус счёта.';
COMMENT ON COLUMN "tin"."tinkoff_account_status"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_account_status"."name" IS 'Наименование';
INSERT INTO "tinkoff_account_status"(id, name) VALUES
(0, 'ACCOUNT_STATUS_UNSPECIFIED'),
(1, 'ACCOUNT_STATUS_NEW'),
(2, 'ACCOUNT_STATUS_OPEN'),
(3, 'ACCOUNT_STATUS_CLOSED');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_account_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_account_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_account_type_id_idx" ON "tin"."tinkoff_account_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_account_type" IS 'Тип счёта.';
COMMENT ON COLUMN "tin"."tinkoff_account_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_account_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_account_type"(id, name) VALUES
(0, 'ACCOUNT_TYPE_UNSPECIFIED'),
(1, 'ACCOUNT_TYPE_TINKOFF'),
(2, 'ACCOUNT_TYPE_TINKOFF_IIS'),
(3, 'ACCOUNT_TYPE_INVEST_BOX');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_asset_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_asset_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_asset_type_id_idx" ON "tin"."tinkoff_asset_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_asset_type" IS 'Тип актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_asset_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_asset_type"(id, name) VALUES
(0, 'ASSET_TYPE_UNSPECIFIED'),
(1, 'ASSET_TYPE_CURRENCY'),
(2, 'ASSET_TYPE_COMMODITY'),
(3, 'ASSET_TYPE_INDEX'),
(4, 'ASSET_TYPE_SECURITY');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_candle_interval" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_candle_interval_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_candle_interval_id_idx" ON "tin"."tinkoff_candle_interval" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_candle_interval" IS 'Интервал свечей.';
COMMENT ON COLUMN "tin"."tinkoff_candle_interval"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_candle_interval"."name" IS 'Наименование';
INSERT INTO "tinkoff_candle_interval"(id, name) VALUES
(0, 'CANDLE_INTERVAL_UNSPECIFIED'),
(1, 'CANDLE_INTERVAL_1_MIN'),
(2, 'CANDLE_INTERVAL_5_MIN'),
(3, 'CANDLE_INTERVAL_15_MIN'),
(4, 'CANDLE_INTERVAL_HOUR'),
(5, 'CANDLE_INTERVAL_DAY'),
(6, 'CANDLE_INTERVAL_2_MIN'),
(7, 'CANDLE_INTERVAL_3_MIN'),
(8, 'CANDLE_INTERVAL_10_MIN'),
(9, 'CANDLE_INTERVAL_30_MIN'),
(10, 'CANDLE_INTERVAL_2_HOUR'),
(11, 'CANDLE_INTERVAL_4_HOUR'),
(12, 'CANDLE_INTERVAL_WEEK'),
(13, 'CANDLE_INTERVAL_MONTH');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_coupon_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_coupon_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_coupon_type_id_idx" ON "tin"."tinkoff_coupon_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_coupon_type" IS 'Тип купонов.';
COMMENT ON COLUMN "tin"."tinkoff_coupon_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_coupon_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_coupon_type"(id, name) VALUES
(0, 'COUPON_TYPE_UNSPECIFIED'),
(1, 'COUPON_TYPE_CONSTANT'),
(2, 'COUPON_TYPE_FLOATING'),
(3, 'COUPON_TYPE_DISCOUNT'),
(4, 'COUPON_TYPE_MORTGAGE'),
(5, 'COUPON_TYPE_FIX'),
(6, 'COUPON_TYPE_VARIABLE'),
(7, 'COUPON_TYPE_OTHER');



CREATE TABLE IF NOT EXISTS "tin"."tinkoff_edit_favorites_action_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_edit_favorites_action_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_edit_favorites_action_type_id_idx" ON "tin"."tinkoff_edit_favorites_action_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_edit_favorites_action_type" IS 'Тип действия со списком избранных инструментов.';
COMMENT ON COLUMN "tin"."tinkoff_edit_favorites_action_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_edit_favorites_action_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_edit_favorites_action_type"(id, name) VALUES
(0, 'EDIT_FAVORITES_ACTION_TYPE_UNSPECIFIED'),
(1, 'EDIT_FAVORITES_ACTION_TYPE_ADD'),
(2, 'EDIT_FAVORITES_ACTION_TYPE_DEL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_instrument_id_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_instrument_id_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_instrument_id_type_id_idx" ON "tin"."tinkoff_instrument_id_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_instrument_id_type" IS 'Тип идентификатора инструмента. Подробнее об идентификации инструментов: [Идентификация инструментов](https://tinkoff.github.io/investAPI/faq_identification/)';
COMMENT ON COLUMN "tin"."tinkoff_instrument_id_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_instrument_id_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_instrument_id_type"(id, name) VALUES
(0, 'INSTRUMENT_ID_UNSPECIFIED'),
(1, 'INSTRUMENT_ID_TYPE_FIGI'),
(2, 'INSTRUMENT_ID_TYPE_TICKER'),
(3, 'INSTRUMENT_ID_TYPE_UID'),
(4, 'INSTRUMENT_ID_TYPE_POSITION_UID');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_instrument_status" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_instrument_status_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_instrument_status_id_idx" ON "tin"."tinkoff_instrument_status" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_instrument_status" IS 'Статус запрашиваемых инструментов.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_status"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_instrument_status"."name" IS 'Наименование';
INSERT INTO "tinkoff_instrument_status"(id, name) VALUES
(0, 'INSTRUMENT_STATUS_UNSPECIFIED'),
(1, 'INSTRUMENT_STATUS_BASE'),
(2, 'INSTRUMENT_STATUS_ALL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_instrument_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_instrument_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_instrument_type_id_idx" ON "tin"."tinkoff_instrument_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_instrument_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_instrument_type"(id, name) VALUES
(0, 'INSTRUMENT_TYPE_UNSPECIFIED'),
(1, 'INSTRUMENT_TYPE_BOND'),
(2, 'INSTRUMENT_TYPE_SHARE'),
(3, 'INSTRUMENT_TYPE_CURRENCY'),
(4, 'INSTRUMENT_TYPE_ETF'),
(5, 'INSTRUMENT_TYPE_FUTURES'),
(6, 'INSTRUMENT_TYPE_SP'),
(7, 'INSTRUMENT_TYPE_OPTION'),
(8, 'INSTRUMENT_TYPE_CLEARING_CERTIFICATE');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_operation_state" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_operation_state_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_operation_state_id_idx" ON "tin"."tinkoff_operation_state" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_operation_state" IS 'Статус запрашиваемых операций.';
COMMENT ON COLUMN "tin"."tinkoff_operation_state"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_operation_state"."name" IS 'Наименование';
INSERT INTO "tinkoff_operation_state"(id, name) VALUES
(0, 'OPERATION_STATE_UNSPECIFIED'),
(1, 'OPERATION_STATE_EXECUTED'),
(2, 'OPERATION_STATE_CANCELED'),
(3, 'OPERATION_STATE_PROGRESS');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_operation_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_operation_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_operation_type_id_idx" ON "tin"."tinkoff_operation_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_operation_type" IS 'Тип операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_operation_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_operation_type"(id, name) VALUES
(0, 'OPERATION_TYPE_UNSPECIFIED'),
(1, 'OPERATION_TYPE_INPUT'),
(2, 'OPERATION_TYPE_BOND_TAX'),
(3, 'OPERATION_TYPE_OUTPUT_SECURITIES'),
(4, 'OPERATION_TYPE_OVERNIGHT'),
(5, 'OPERATION_TYPE_TAX'),
(6, 'OPERATION_TYPE_BOND_REPAYMENT_FULL'),
(7, 'OPERATION_TYPE_SELL_CARD'),
(8, 'OPERATION_TYPE_DIVIDEND_TAX'),
(9, 'OPERATION_TYPE_OUTPUT'),
(10, 'OPERATION_TYPE_BOND_REPAYMENT'),
(11, 'OPERATION_TYPE_TAX_CORRECTION'),
(12, 'OPERATION_TYPE_SERVICE_FEE'),
(13, 'OPERATION_TYPE_BENEFIT_TAX'),
(14, 'OPERATION_TYPE_MARGIN_FEE'),
(15, 'OPERATION_TYPE_BUY'),
(16, 'OPERATION_TYPE_BUY_CARD'),
(17, 'OPERATION_TYPE_INPUT_SECURITIES'),
(18, 'OPERATION_TYPE_SELL_MARGIN'),
(19, 'OPERATION_TYPE_BROKER_FEE'),
(20, 'OPERATION_TYPE_BUY_MARGIN'),
(21, 'OPERATION_TYPE_DIVIDEND'),
(22, 'OPERATION_TYPE_SELL'),
(23, 'OPERATION_TYPE_COUPON'),
(24, 'OPERATION_TYPE_SUCCESS_FEE'),
(25, 'OPERATION_TYPE_DIVIDEND_TRANSFER'),
(26, 'OPERATION_TYPE_ACCRUING_VARMARGIN'),
(27, 'OPERATION_TYPE_WRITING_OFF_VARMARGIN'),
(28, 'OPERATION_TYPE_DELIVERY_BUY'),
(29, 'OPERATION_TYPE_DELIVERY_SELL'),
(30, 'OPERATION_TYPE_TRACK_MFEE'),
(31, 'OPERATION_TYPE_TRACK_PFEE'),
(32, 'OPERATION_TYPE_TAX_PROGRESSIVE'),
(33, 'OPERATION_TYPE_BOND_TAX_PROGRESSIVE'),
(34, 'OPERATION_TYPE_DIVIDEND_TAX_PROGRESSIVE'),
(35, 'OPERATION_TYPE_BENEFIT_TAX_PROGRESSIVE'),
(36, 'OPERATION_TYPE_TAX_CORRECTION_PROGRESSIVE'),
(37, 'OPERATION_TYPE_TAX_REPO_PROGRESSIVE'),
(38, 'OPERATION_TYPE_TAX_REPO'),
(39, 'OPERATION_TYPE_TAX_REPO_HOLD'),
(40, 'OPERATION_TYPE_TAX_REPO_REFUND'),
(41, 'OPERATION_TYPE_TAX_REPO_HOLD_PROGRESSIVE'),
(42, 'OPERATION_TYPE_TAX_REPO_REFUND_PROGRESSIVE'),
(43, 'OPERATION_TYPE_DIV_EXT'),
(44, 'OPERATION_TYPE_TAX_CORRECTION_COUPON'),
(45, 'OPERATION_TYPE_CASH_FEE'),
(46, 'OPERATION_TYPE_OUT_FEE'),
(47, 'OPERATION_TYPE_OUT_STAMP_DUTY'),
(50, 'OPERATION_TYPE_OUTPUT_SWIFT'),
(51, 'OPERATION_TYPE_INPUT_SWIFT'),
(53, 'OPERATION_TYPE_OUTPUT_ACQUIRING'),
(54, 'OPERATION_TYPE_INPUT_ACQUIRING'),
(55, 'OPERATION_TYPE_OUTPUT_PENALTY'),
(56, 'OPERATION_TYPE_ADVICE_FEE'),
(57, 'OPERATION_TYPE_TRANS_IIS_BS'),
(58, 'OPERATION_TYPE_TRANS_BS_BS'),
(59, 'OPERATION_TYPE_OUT_MULTI'),
(60, 'OPERATION_TYPE_INP_MULTI'),
(61, 'OPERATION_TYPE_OVER_PLACEMENT'),
(62, 'OPERATION_TYPE_OVER_COM'),
(63, 'OPERATION_TYPE_OVER_INCOME'),
(64, 'OPERATION_TYPE_OPTION_EXPIRATION');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_option_direction" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_option_direction_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_option_direction_id_idx" ON "tin"."tinkoff_option_direction" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_option_direction" IS 'Тип опциона по направлению сделки.';
COMMENT ON COLUMN "tin"."tinkoff_option_direction"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_option_direction"."name" IS 'Наименование';
INSERT INTO "tinkoff_option_direction"(id, name) VALUES
(0, 'OPTION_DIRECTION_UNSPECIFIED'),
(1, 'OPTION_DIRECTION_PUT'),
(2, 'OPTION_DIRECTION_CALL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_option_payment_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_option_payment_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_option_payment_type_id_idx" ON "tin"."tinkoff_option_payment_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_option_payment_type" IS 'Тип расчетов по опциону.';
COMMENT ON COLUMN "tin"."tinkoff_option_payment_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_option_payment_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_option_payment_type"(id, name) VALUES
(0, 'OPTION_PAYMENT_TYPE_UNSPECIFIED'),
(1, 'OPTION_PAYMENT_TYPE_PREMIUM'),
(2, 'OPTION_PAYMENT_TYPE_MARGINAL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_option_settlement_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_option_settlement_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_option_settlement_type_id_idx" ON "tin"."tinkoff_option_settlement_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_option_settlement_type" IS 'Тип опциона по способу исполнения.';
COMMENT ON COLUMN "tin"."tinkoff_option_settlement_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_option_settlement_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_option_settlement_type"(id, name) VALUES
(0, 'OPTION_EXECUTION_TYPE_UNSPECIFIED'),
(1, 'OPTION_EXECUTION_TYPE_PHYSICAL_DELIVERY'),
(2, 'OPTION_EXECUTION_TYPE_CASH_SETTLEMENT');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_option_style" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_option_style_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_option_style_id_idx" ON "tin"."tinkoff_option_style" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_option_style" IS 'Тип опциона по стилю.';
COMMENT ON COLUMN "tin"."tinkoff_option_style"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_option_style"."name" IS 'Наименование';
INSERT INTO "tinkoff_option_style"(id, name) VALUES
(0, 'OPTION_STYLE_UNSPECIFIED'),
(1, 'OPTION_STYLE_AMERICAN'),
(2, 'OPTION_STYLE_EUROPEAN');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_direction" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_order_direction_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_order_direction_id_idx" ON "tin"."tinkoff_order_direction" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_order_direction" IS 'Направление операции.';
COMMENT ON COLUMN "tin"."tinkoff_order_direction"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_order_direction"."name" IS 'Наименование';
INSERT INTO "tinkoff_order_direction"(id, name) VALUES
(0, 'ORDER_DIRECTION_UNSPECIFIED'),
(1, 'ORDER_DIRECTION_BUY'),
(2, 'ORDER_DIRECTION_SELL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_execution_report_status" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_order_execution_report_status_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_order_execution_report_status_id_idx" ON "tin"."tinkoff_order_execution_report_status" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_order_execution_report_status" IS 'Текущий статус заявки (поручения)';
COMMENT ON COLUMN "tin"."tinkoff_order_execution_report_status"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_order_execution_report_status"."name" IS 'Наименование';
INSERT INTO "tinkoff_order_execution_report_status"(id, name) VALUES
(0, 'EXECUTION_REPORT_STATUS_UNSPECIFIED'),
(1, 'EXECUTION_REPORT_STATUS_FILL'),
(2, 'EXECUTION_REPORT_STATUS_REJECTED'),
(3, 'EXECUTION_REPORT_STATUS_CANCELLED'),
(4, 'EXECUTION_REPORT_STATUS_NEW'),
(5, 'EXECUTION_REPORT_STATUS_PARTIALLYFILL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_order_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_order_type_id_idx" ON "tin"."tinkoff_order_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_order_type" IS 'Тип заявки.';
COMMENT ON COLUMN "tin"."tinkoff_order_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_order_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_order_type"(id, name) VALUES
(0, 'ORDER_TYPE_UNSPECIFIED'),
(1, 'ORDER_TYPE_LIMIT'),
(2, 'ORDER_TYPE_MARKET'),
(3, 'ORDER_TYPE_BESTPRICE');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_portfolio_subscription_status" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_portfolio_subscription_status_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_portfolio_subscription_status_id_idx" ON "tin"."tinkoff_portfolio_subscription_status" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_portfolio_subscription_status" IS 'Результат подписки.';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_subscription_status"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_subscription_status"."name" IS 'Наименование';
INSERT INTO "tinkoff_portfolio_subscription_status"(id, name) VALUES
(0, 'PORTFOLIO_SUBSCRIPTION_STATUS_UNSPECIFIED'),
(1, 'PORTFOLIO_SUBSCRIPTION_STATUS_SUCCESS'),
(2, 'PORTFOLIO_SUBSCRIPTION_STATUS_ACCOUNT_NOT_FOUND'),
(3, 'PORTFOLIO_SUBSCRIPTION_STATUS_INTERNAL_ERROR');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_positions_account_subscription_status" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_positions_account_subscription_status_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_positions_account_subscription_status_id_idx" ON "tin"."tinkoff_positions_account_subscription_status" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_positions_account_subscription_status" IS 'Результат подписки.';
COMMENT ON COLUMN "tin"."tinkoff_positions_account_subscription_status"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_positions_account_subscription_status"."name" IS 'Наименование';
INSERT INTO "tinkoff_positions_account_subscription_status"(id, name) VALUES
(0, 'POSITIONS_SUBSCRIPTION_STATUS_UNSPECIFIED'),
(1, 'POSITIONS_SUBSCRIPTION_STATUS_SUCCESS'),
(2, 'POSITIONS_SUBSCRIPTION_STATUS_ACCOUNT_NOT_FOUND'),
(3, 'POSITIONS_SUBSCRIPTION_STATUS_INTERNAL_ERROR');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_price_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_price_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_price_type_id_idx" ON "tin"."tinkoff_price_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_price_type" IS 'Тип цены.';
COMMENT ON COLUMN "tin"."tinkoff_price_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_price_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_price_type"(id, name) VALUES
(0, 'PRICE_TYPE_UNSPECIFIED'),
(1, 'PRICE_TYPE_POINT'),
(2, 'PRICE_TYPE_CURRENCY');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_real_exchange" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_real_exchange_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_real_exchange_id_idx" ON "tin"."tinkoff_real_exchange" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_real_exchange" IS 'Реальная площадка исполнения расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_real_exchange"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_real_exchange"."name" IS 'Наименование';
INSERT INTO "tinkoff_real_exchange"(id, name) VALUES
(0, 'REAL_EXCHANGE_UNSPECIFIED'),
(1, 'REAL_EXCHANGE_MOEX'),
(2, 'REAL_EXCHANGE_RTS'),
(3, 'REAL_EXCHANGE_OTC');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_risk_level" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_risk_level_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_risk_level_id_idx" ON "tin"."tinkoff_risk_level" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_risk_level" IS 'Уровень риска облигации.';
COMMENT ON COLUMN "tin"."tinkoff_risk_level"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_risk_level"."name" IS 'Наименование';
INSERT INTO "tinkoff_risk_level"(id, name) VALUES
(0, 'RISK_LEVEL_UNSPECIFIED'),
(1, 'RISK_LEVEL_LOW'),
(2, 'RISK_LEVEL_MODERATE'),
(3, 'RISK_LEVEL_HIGH');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_security_trading_status" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_security_trading_status_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_security_trading_status_id_idx" ON "tin"."tinkoff_security_trading_status" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_security_trading_status" IS 'Режим торгов инструмента';
COMMENT ON COLUMN "tin"."tinkoff_security_trading_status"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_security_trading_status"."name" IS 'Наименование';
INSERT INTO "tinkoff_security_trading_status"(id, name) VALUES
(0, 'SECURITY_TRADING_STATUS_UNSPECIFIED'),
(1, 'SECURITY_TRADING_STATUS_NOT_AVAILABLE_FOR_TRADING'),
(2, 'SECURITY_TRADING_STATUS_OPENING_PERIOD'),
(3, 'SECURITY_TRADING_STATUS_CLOSING_PERIOD'),
(4, 'SECURITY_TRADING_STATUS_BREAK_IN_TRADING'),
(5, 'SECURITY_TRADING_STATUS_NORMAL_TRADING'),
(6, 'SECURITY_TRADING_STATUS_CLOSING_AUCTION'),
(7, 'SECURITY_TRADING_STATUS_DARK_POOL_AUCTION'),
(8, 'SECURITY_TRADING_STATUS_DISCRETE_AUCTION'),
(9, 'SECURITY_TRADING_STATUS_OPENING_AUCTION_PERIOD'),
(10, 'SECURITY_TRADING_STATUS_TRADING_AT_CLOSING_AUCTION_PRICE'),
(11, 'SECURITY_TRADING_STATUS_SESSION_ASSIGNED'),
(12, 'SECURITY_TRADING_STATUS_SESSION_CLOSE'),
(13, 'SECURITY_TRADING_STATUS_SESSION_OPEN'),
(14, 'SECURITY_TRADING_STATUS_DEALER_NORMAL_TRADING'),
(15, 'SECURITY_TRADING_STATUS_DEALER_BREAK_IN_TRADING'),
(16, 'SECURITY_TRADING_STATUS_DEALER_NOT_AVAILABLE_FOR_TRADING');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_share_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_share_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_share_type_id_idx" ON "tin"."tinkoff_share_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_share_type" IS 'Тип акций.';
COMMENT ON COLUMN "tin"."tinkoff_share_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_share_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_share_type"(id, name) VALUES
(0, 'SHARE_TYPE_UNSPECIFIED'),
(1, 'SHARE_TYPE_COMMON'),
(2, 'SHARE_TYPE_PREFERRED'),
(3, 'SHARE_TYPE_ADR'),
(4, 'SHARE_TYPE_GDR'),
(5, 'SHARE_TYPE_MLP'),
(6, 'SHARE_TYPE_NY_REG_SHRS'),
(7, 'SHARE_TYPE_CLOSED_END_FUND'),
(8, 'SHARE_TYPE_REIT');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_stop_order_direction" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_stop_order_direction_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_stop_order_direction_id_idx" ON "tin"."tinkoff_stop_order_direction" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_stop_order_direction" IS 'Направление сделки стоп-заявки.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order_direction"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_stop_order_direction"."name" IS 'Наименование';
INSERT INTO "tinkoff_stop_order_direction"(id, name) VALUES
(0, 'STOP_ORDER_DIRECTION_UNSPECIFIED'),
(1, 'STOP_ORDER_DIRECTION_BUY'),
(2, 'STOP_ORDER_DIRECTION_SELL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_stop_order_expiration_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_stop_order_expiration_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_stop_order_expiration_type_id_idx" ON "tin"."tinkoff_stop_order_expiration_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_stop_order_expiration_type" IS 'Тип экспирации стоп-заявке.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order_expiration_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_stop_order_expiration_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_stop_order_expiration_type"(id, name) VALUES
(0, 'STOP_ORDER_EXPIRATION_TYPE_UNSPECIFIED'),
(1, 'STOP_ORDER_EXPIRATION_TYPE_GOOD_TILL_CANCEL'),
(2, 'STOP_ORDER_EXPIRATION_TYPE_GOOD_TILL_DATE');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_stop_order_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_stop_order_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_stop_order_type_id_idx" ON "tin"."tinkoff_stop_order_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_stop_order_type" IS 'Тип стоп-заявки.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_stop_order_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_stop_order_type"(id, name) VALUES
(0, 'STOP_ORDER_TYPE_UNSPECIFIED'),
(1, 'STOP_ORDER_TYPE_TAKE_PROFIT'),
(2, 'STOP_ORDER_TYPE_STOP_LOSS'),
(3, 'STOP_ORDER_TYPE_STOP_LIMIT');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_structured_product_type" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_structured_product_type_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_structured_product_type_id_idx" ON "tin"."tinkoff_structured_product_type" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_structured_product_type" IS 'Тип структурной ноты.';
COMMENT ON COLUMN "tin"."tinkoff_structured_product_type"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_structured_product_type"."name" IS 'Наименование';
INSERT INTO "tinkoff_structured_product_type"(id, name) VALUES
(0, 'SP_TYPE_UNSPECIFIED'),
(1, 'SP_TYPE_DELIVERABLE'),
(2, 'SP_TYPE_NON_DELIVERABLE');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_subscription_action" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_subscription_action_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_subscription_action_id_idx" ON "tin"."tinkoff_subscription_action" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_subscription_action" IS 'Тип операции со списком подписок.';
COMMENT ON COLUMN "tin"."tinkoff_subscription_action"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_subscription_action"."name" IS 'Наименование';
INSERT INTO "tinkoff_subscription_action"(id, name) VALUES
(0, 'SUBSCRIPTION_ACTION_UNSPECIFIED'),
(1, 'SUBSCRIPTION_ACTION_SUBSCRIBE'),
(2, 'SUBSCRIPTION_ACTION_UNSUBSCRIBE');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_subscription_interval" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_subscription_interval_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_subscription_interval_id_idx" ON "tin"."tinkoff_subscription_interval" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_subscription_interval" IS 'Интервал свечи.';
COMMENT ON COLUMN "tin"."tinkoff_subscription_interval"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_subscription_interval"."name" IS 'Наименование';
INSERT INTO "tinkoff_subscription_interval"(id, name) VALUES
(0, 'SUBSCRIPTION_INTERVAL_UNSPECIFIED'),
(1, 'SUBSCRIPTION_INTERVAL_ONE_MINUTE'),
(2, 'SUBSCRIPTION_INTERVAL_FIVE_MINUTES');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_subscription_status" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_subscription_status_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_subscription_status_id_idx" ON "tin"."tinkoff_subscription_status" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_subscription_status" IS 'Результат подписки.';
COMMENT ON COLUMN "tin"."tinkoff_subscription_status"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_subscription_status"."name" IS 'Наименование';
INSERT INTO "tinkoff_subscription_status"(id, name) VALUES
(0, 'SUBSCRIPTION_STATUS_UNSPECIFIED'),
(1, 'SUBSCRIPTION_STATUS_SUCCESS'),
(2, 'SUBSCRIPTION_STATUS_INSTRUMENT_NOT_FOUND'),
(3, 'SUBSCRIPTION_STATUS_SUBSCRIPTION_ACTION_IS_INVALID'),
(4, 'SUBSCRIPTION_STATUS_DEPTH_IS_INVALID'),
(5, 'SUBSCRIPTION_STATUS_INTERVAL_IS_INVALID'),
(6, 'SUBSCRIPTION_STATUS_LIMIT_IS_EXCEEDED'),
(7, 'SUBSCRIPTION_STATUS_INTERNAL_ERROR'),
(8, 'SUBSCRIPTION_STATUS_TOO_MANY_REQUESTS');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_trade_direction" (
	"id" int8 GENERATED BY DEFAULT AS IDENTITY NOT NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_trade_direction_pk" PRIMARY KEY ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_trade_direction_id_idx" ON "tin"."tinkoff_trade_direction" USING btree ("id");
COMMENT ON TABLE "tin"."tinkoff_trade_direction" IS 'Направление сделки.';
COMMENT ON COLUMN "tin"."tinkoff_trade_direction"."id" IS 'Уникальный технический идентификатор';
COMMENT ON COLUMN "tin"."tinkoff_trade_direction"."name" IS 'Наименование';
INSERT INTO "tinkoff_trade_direction"(id, name) VALUES
(0, 'TRADE_DIRECTION_UNSPECIFIED'),
(1, 'TRADE_DIRECTION_BUY'),
(2, 'TRADE_DIRECTION_SELL');


CREATE TABLE IF NOT EXISTS "tin"."tinkoff_asset_etf" (
	"total_expense_units" bigint NOT NULL,
	"total_expense_nano" integer NOT NULL,
	"hurdle_rate_units" bigint NOT NULL,
	"hurdle_rate_nano" integer NOT NULL,
	"performance_fee_units" bigint NOT NULL,
	"performance_fee_nano" integer NOT NULL,
	"fixed_commission_units" bigint NOT NULL,
	"fixed_commission_nano" integer NOT NULL,
	"payment_type" text NOT NULL,
	"watermark_flag" bool NOT NULL,
	"buy_premium_units" bigint NOT NULL,
	"buy_premium_nano" integer NOT NULL,
	"sell_discount_units" bigint NOT NULL,
	"sell_discount_nano" integer NOT NULL,
	"rebalancing_flag" bool NOT NULL,
	"rebalancing_freq" text NOT NULL,
	"management_type" text NOT NULL,
	"primary_index" text NOT NULL,
	"focus_type" text NOT NULL,
	"leveraged_flag" bool NOT NULL,
	"num_share_units" bigint NOT NULL,
	"num_share_nano" integer NOT NULL,
	"ucits_flag" bool NOT NULL,
	"released_date" timestamptz NULL,
	"description" text NOT NULL,
	"primary_index_description" text NOT NULL,
	"primary_index_company" text NOT NULL,
	"index_recovery_period_units" bigint NOT NULL,
	"index_recovery_period_nano" integer NOT NULL,
	"inav_code" text NOT NULL,
	"div_yield_flag" bool NOT NULL,
	"expense_commission_units" bigint NOT NULL,
	"expense_commission_nano" integer NOT NULL,
	"primary_index_tracking_error_units" bigint NOT NULL,
	"primary_index_tracking_error_nano" integer NOT NULL,
	"rebalancing_plan" text NOT NULL,
	"tax_rate" text NOT NULL,
	"issue_kind" text NOT NULL,
	"nominal_units" bigint NOT NULL,
	"nominal_nano" integer NOT NULL,
	"nominal_currency" text NOT NULL,
	CONSTRAINT "tinkoff_asset_etf_pk" PRIMARY KEY ("primary_index")
);
COMMENT ON TABLE "tin"."tinkoff_asset_etf" IS 'Фонд.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."total_expense_units" IS 'Суммарные расходы фонда (в %). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."total_expense_nano" IS 'Суммарные расходы фонда (в %). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."hurdle_rate_units" IS 'Барьерная ставка доходности после которой фонд имеет право на perfomance fee (в процентах). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."hurdle_rate_nano" IS 'Барьерная ставка доходности после которой фонд имеет право на perfomance fee (в процентах). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."performance_fee_units" IS 'Комиссия за успешные результаты фонда (в процентах). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."performance_fee_nano" IS 'Комиссия за успешные результаты фонда (в процентах). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."fixed_commission_units" IS 'Фиксированная комиссия за управление (в процентах). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."fixed_commission_nano" IS 'Фиксированная комиссия за управление (в процентах). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."payment_type" IS 'Тип распределения доходов от выплат по бумагам.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."watermark_flag" IS 'Признак необходимости выхода фонда в плюс для получения комиссии.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."buy_premium_units" IS 'Премия (надбавка к цене) при покупке доли в фонде (в процентах). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."buy_premium_nano" IS 'Премия (надбавка к цене) при покупке доли в фонде (в процентах). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."sell_discount_units" IS 'Ставка дисконта (вычет из цены) при продаже доли в фонде (в процентах). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."sell_discount_nano" IS 'Ставка дисконта (вычет из цены) при продаже доли в фонде (в процентах). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."rebalancing_flag" IS 'Признак ребалансируемости портфеля фонда.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."rebalancing_freq" IS 'Периодичность ребалансировки.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."management_type" IS 'Тип управления.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."primary_index" IS 'Индекс, который реплицирует (старается копировать) фонд.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."focus_type" IS 'База ETF.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."leveraged_flag" IS 'Признак использования заемных активов (плечо).';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."num_share_units" IS 'Количество акций в обращении. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."num_share_nano" IS 'Количество акций в обращении. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."ucits_flag" IS 'Признак обязательства по отчетности перед регулятором.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."released_date" IS 'Дата выпуска.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."description" IS 'Описание фонда.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."primary_index_description" IS 'Описание индекса, за которым следует фонд.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."primary_index_company" IS 'Основные компании, в которые вкладывается фонд.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."index_recovery_period_units" IS 'Срок восстановления индекса (после просадки). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."index_recovery_period_nano" IS 'Срок восстановления индекса (после просадки). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."inav_code" IS 'IVAV-код.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."div_yield_flag" IS 'Признак наличия дивидендной доходности.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."expense_commission_units" IS 'Комиссия на покрытие расходов фонда (в процентах). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."expense_commission_nano" IS 'Комиссия на покрытие расходов фонда (в процентах). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."primary_index_tracking_error_units" IS 'Ошибка следования за индексом (в процентах). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."primary_index_tracking_error_nano" IS 'Ошибка следования за индексом (в процентах). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."rebalancing_plan" IS 'Плановая ребалансировка портфеля.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."tax_rate" IS 'Ставки налогообложения дивидендов и купонов.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."issue_kind" IS 'Форма выпуска.';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."nominal_units" IS 'Номинал. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."nominal_nano" IS 'Номинал. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_etf"."nominal_currency" IS 'Валюта номинала.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_brand" (
	"uid" text NOT NULL,
	"name" text NOT NULL,
	"description" text NOT NULL,
	"info" text NOT NULL,
	"company" text NOT NULL,
	"sector" text NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	CONSTRAINT "tinkoff_brand_pk" PRIMARY KEY ("uid")
);
COMMENT ON TABLE "tin"."tinkoff_brand" IS 'Бренд.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."uid" IS 'uid идентификатор бренда.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."name" IS 'Наименование бренда.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."description" IS 'Описание.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."info" IS 'Информация о бренде.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."company" IS 'Компания.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."sector" IS 'Сектор.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."country_of_risk" IS 'Код страны риска.';
COMMENT ON COLUMN "tin"."tinkoff_brand"."country_of_risk_name" IS 'Наименование страны риска.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_broker_report" (
	"trade_id" text NOT NULL,
	"order_id" text NOT NULL,
	"figi" text NOT NULL,
	"execute_sign" text NOT NULL,
	"trade_datetime" timestamptz NULL,
	"exchange" text NOT NULL,
	"class_code" text NOT NULL,
	"direction" text NOT NULL,
	"name" text NOT NULL,
	"ticker" text NOT NULL,
	"price_currency" text NOT NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"quantity" bigint NOT NULL,
	"order_amount_currency" text NOT NULL,
	"order_amount_units" bigint NOT NULL,
	"order_amount_nano" integer NOT NULL,
	"aci_value_units" bigint NOT NULL,
	"aci_value_nano" integer NOT NULL,
	"total_order_amount_currency" text NOT NULL,
	"total_order_amount_units" bigint NOT NULL,
	"total_order_amount_nano" integer NOT NULL,
	"broker_commission_currency" text NOT NULL,
	"broker_commission_units" bigint NOT NULL,
	"broker_commission_nano" integer NOT NULL,
	"exchange_commission_currency" text NOT NULL,
	"exchange_commission_units" bigint NOT NULL,
	"exchange_commission_nano" integer NOT NULL,
	"exchange_clearing_commission_currency" text NOT NULL,
	"exchange_clearing_commission_units" bigint NOT NULL,
	"exchange_clearing_commission_nano" integer NOT NULL,
	"repo_rate_units" bigint NOT NULL,
	"repo_rate_nano" integer NOT NULL,
	"party" text NOT NULL,
	"clear_value_date" timestamptz NULL,
	"sec_value_date" timestamptz NULL,
	"broker_status" text NOT NULL,
	"separate_agreement_type" text NOT NULL,
	"separate_agreement_number" text NOT NULL,
	"separate_agreement_date" text NOT NULL,
	"delivery_type" text NOT NULL,
	CONSTRAINT "tinkoff_broker_report_pk" PRIMARY KEY ("trade_id")
);
COMMENT ON TABLE "tin"."tinkoff_broker_report" IS '';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."trade_id" IS 'Номер сделки.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."order_id" IS 'Номер поручения.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."execute_sign" IS 'Признак исполнения.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."trade_datetime" IS 'Дата и время заключения в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."exchange" IS 'Торговая площадка.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."class_code" IS 'Режим торгов.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."direction" IS 'Вид сделки.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."name" IS 'Сокращённое наименование актива.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."ticker" IS 'Код актива.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."price_currency" IS 'Цена за единицу. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."price_units" IS 'Цена за единицу. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."price_nano" IS 'Цена за единицу. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."quantity" IS 'Количество.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."order_amount_currency" IS 'Сумма (без НКД). / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."order_amount_units" IS 'Сумма (без НКД). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."order_amount_nano" IS 'Сумма (без НКД). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."aci_value_units" IS 'НКД. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."aci_value_nano" IS 'НКД. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."total_order_amount_currency" IS 'Сумма сделки. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."total_order_amount_units" IS 'Сумма сделки. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."total_order_amount_nano" IS 'Сумма сделки. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."broker_commission_currency" IS 'Комиссия брокера. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."broker_commission_units" IS 'Комиссия брокера. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."broker_commission_nano" IS 'Комиссия брокера. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."exchange_commission_currency" IS 'Комиссия биржи. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."exchange_commission_units" IS 'Комиссия биржи. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."exchange_commission_nano" IS 'Комиссия биржи. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."exchange_clearing_commission_currency" IS 'Комиссия клир. центра. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."exchange_clearing_commission_units" IS 'Комиссия клир. центра. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."exchange_clearing_commission_nano" IS 'Комиссия клир. центра. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."repo_rate_units" IS 'Ставка РЕПО (%). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."repo_rate_nano" IS 'Ставка РЕПО (%). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."party" IS 'Контрагент/Брокер.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."clear_value_date" IS 'Дата расчётов в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."sec_value_date" IS 'Дата поставки в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."broker_status" IS 'Статус брокера.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."separate_agreement_type" IS 'Тип дог.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."separate_agreement_number" IS 'Номер дог.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."separate_agreement_date" IS 'Дата дог.';
COMMENT ON COLUMN "tin"."tinkoff_broker_report"."delivery_type" IS 'Тип расчёта по сделке.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_last_price" (
	"figi" text NOT NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"time" timestamptz NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_last_price_pk" PRIMARY KEY ("figi")
);
COMMENT ON TABLE "tin"."tinkoff_last_price" IS 'Информация о цене последней сделки.';
COMMENT ON COLUMN "tin"."tinkoff_last_price"."figi" IS 'Figi инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_last_price"."price_units" IS 'Цена последней сделки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_last_price"."price_nano" IS 'Цена последней сделки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_last_price"."time" IS 'Время получения последней цены в часовом поясе UTC по времени биржи.';
COMMENT ON COLUMN "tin"."tinkoff_last_price"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_operation_trade" (
	"trade_id" text NOT NULL,
	"date_time" timestamptz NULL,
	"quantity" bigint NOT NULL,
	"price_currency" text NOT NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	CONSTRAINT "tinkoff_operation_trade_pk" PRIMARY KEY ("trade_id")
);
COMMENT ON TABLE "tin"."tinkoff_operation_trade" IS 'Сделка по операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_trade"."trade_id" IS 'Идентификатор сделки.';
COMMENT ON COLUMN "tin"."tinkoff_operation_trade"."date_time" IS 'Дата и время сделки в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_operation_trade"."quantity" IS 'Количество инструментов.';
COMMENT ON COLUMN "tin"."tinkoff_operation_trade"."price_currency" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation_trade"."price_units" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_trade"."price_nano" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_book" (
	"figi" text NOT NULL,
	"depth" integer NOT NULL,
	"is_consistent" bool NOT NULL,
	"time" timestamptz NULL,
	"limit_up_units" bigint NOT NULL,
	"limit_up_nano" integer NOT NULL,
	"limit_down_units" bigint NOT NULL,
	"limit_down_nano" integer NOT NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_order_book_pk" PRIMARY KEY ("figi")
);
COMMENT ON TABLE "tin"."tinkoff_order_book" IS 'Пакет стаканов в рамках стрима.';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."depth" IS 'Глубина стакана.';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."is_consistent" IS 'Флаг консистентности стакана. **false** значит не все заявки попали в стакан по причинам сетевых задержек или нарушения порядка доставки.';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."time" IS 'Время формирования стакана в часовом поясе UTC по времени биржи.';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."limit_up_units" IS 'Верхний лимит цены за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."limit_up_nano" IS 'Верхний лимит цены за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."limit_down_units" IS 'Нижний лимит цены за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."limit_down_nano" IS 'Нижний лимит цены за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_book"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_stage" (
	"price_currency" text NOT NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"quantity" bigint NOT NULL,
	"trade_id" text NOT NULL,
	CONSTRAINT "tinkoff_order_stage_pk" PRIMARY KEY ("trade_id")
);
COMMENT ON TABLE "tin"."tinkoff_order_stage" IS 'Сделки в рамках торгового поручения.';
COMMENT ON COLUMN "tin"."tinkoff_order_stage"."price_currency" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_stage"."price_units" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_stage"."price_nano" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_stage"."quantity" IS 'Количество лотов.';
COMMENT ON COLUMN "tin"."tinkoff_order_stage"."trade_id" IS 'Идентификатор сделки.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_trade" (
	"date_time" timestamptz NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"quantity" bigint NOT NULL,
	"trade_id" text NOT NULL,
	CONSTRAINT "tinkoff_order_trade_pk" PRIMARY KEY ("trade_id")
);
COMMENT ON TABLE "tin"."tinkoff_order_trade" IS 'Информация о сделке.';
COMMENT ON COLUMN "tin"."tinkoff_order_trade"."date_time" IS 'Дата и время совершения сделки в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_order_trade"."price_units" IS 'Цена за 1 инструмент, по которой совершена сделка. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_trade"."price_nano" IS 'Цена за 1 инструмент, по которой совершена сделка. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_trade"."quantity" IS 'Количество штук в сделке.';
COMMENT ON COLUMN "tin"."tinkoff_order_trade"."trade_id" IS 'Идентификатор сделки.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_portfolio_position" (
	"figi" text NOT NULL,
	"instrument_type" text NOT NULL,
	"quantity_units" bigint NOT NULL,
	"quantity_nano" integer NOT NULL,
	"average_position_price_currency" text NOT NULL,
	"average_position_price_units" bigint NOT NULL,
	"average_position_price_nano" integer NOT NULL,
	"expected_yield_units" bigint NOT NULL,
	"expected_yield_nano" integer NOT NULL,
	"current_nkd_currency" text NOT NULL,
	"current_nkd_units" bigint NOT NULL,
	"current_nkd_nano" integer NOT NULL,
	"current_price_currency" text NOT NULL,
	"current_price_units" bigint NOT NULL,
	"current_price_nano" integer NOT NULL,
	"average_position_price_fifo_currency" text NOT NULL,
	"average_position_price_fifo_units" bigint NOT NULL,
	"average_position_price_fifo_nano" integer NOT NULL,
	"blocked" bool NOT NULL,
	"blocked_lots_units" bigint NOT NULL,
	"blocked_lots_nano" integer NOT NULL,
	"position_uid" text NOT NULL,
	"instrument_uid" text NOT NULL,
	"var_margin_currency" text NOT NULL,
	"var_margin_units" bigint NOT NULL,
	"var_margin_nano" integer NOT NULL,
	"expected_yield_fifo_units" bigint NOT NULL,
	"expected_yield_fifo_nano" integer NOT NULL,
	CONSTRAINT "tinkoff_portfolio_position_pk" PRIMARY KEY ("figi")
);
COMMENT ON TABLE "tin"."tinkoff_portfolio_position" IS 'Позиции портфеля.';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."figi" IS 'Figi-идентификатора инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."quantity_units" IS 'Количество инструмента в портфеле в штуках. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."quantity_nano" IS 'Количество инструмента в портфеле в штуках. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."average_position_price_currency" IS 'Средневзвешенная цена позиции. **Возможна задержка до секунды для пересчёта**. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."average_position_price_units" IS 'Средневзвешенная цена позиции. **Возможна задержка до секунды для пересчёта**. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."average_position_price_nano" IS 'Средневзвешенная цена позиции. **Возможна задержка до секунды для пересчёта**. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."expected_yield_units" IS 'Текущая рассчитанная доходность позиции. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."expected_yield_nano" IS 'Текущая рассчитанная доходность позиции. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."current_nkd_currency" IS 'Текущий НКД. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."current_nkd_units" IS 'Текущий НКД. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."current_nkd_nano" IS 'Текущий НКД. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."current_price_currency" IS 'Текущая цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."current_price_units" IS 'Текущая цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."current_price_nano" IS 'Текущая цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."average_position_price_fifo_currency" IS 'Средняя цена позиции по методу FIFO. **Возможна задержка до секунды для пересчёта**. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."average_position_price_fifo_units" IS 'Средняя цена позиции по методу FIFO. **Возможна задержка до секунды для пересчёта**. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."average_position_price_fifo_nano" IS 'Средняя цена позиции по методу FIFO. **Возможна задержка до секунды для пересчёта**. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."blocked" IS 'Заблокировано на бирже.';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."blocked_lots_units" IS 'Количество бумаг, заблокированных выставленными заявками. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."blocked_lots_nano" IS 'Количество бумаг, заблокированных выставленными заявками. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."position_uid" IS 'position_uid-идентификатора инструмента';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."instrument_uid" IS 'instrument_uid-идентификатора инструмента';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."var_margin_currency" IS 'Вариационная маржа / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."var_margin_units" IS 'Вариационная маржа / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."var_margin_nano" IS 'Вариационная маржа / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."expected_yield_fifo_units" IS 'Текущая рассчитанная доходность позиции. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_portfolio_position"."expected_yield_fifo_nano" IS 'Текущая рассчитанная доходность позиции. / дробная часть суммы, может быть отрицательным числом';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_positions_futures" (
	"figi" text NOT NULL,
	"blocked" bigint NOT NULL,
	"balance" bigint NOT NULL,
	"position_uid" text NOT NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_positions_futures_pk" PRIMARY KEY ("figi")
);
COMMENT ON TABLE "tin"."tinkoff_positions_futures" IS 'Баланс фьючерса.';
COMMENT ON COLUMN "tin"."tinkoff_positions_futures"."figi" IS 'Figi-идентификатор фьючерса.';
COMMENT ON COLUMN "tin"."tinkoff_positions_futures"."blocked" IS 'Количество бумаг заблокированных выставленными заявками.';
COMMENT ON COLUMN "tin"."tinkoff_positions_futures"."balance" IS 'Текущий незаблокированный баланс.';
COMMENT ON COLUMN "tin"."tinkoff_positions_futures"."position_uid" IS 'Уникальный идентификатор позиции.';
COMMENT ON COLUMN "tin"."tinkoff_positions_futures"."instrument_uid" IS 'Уникальный идентификатор  инструмента.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_positions_securities" (
	"figi" text NOT NULL,
	"blocked" bigint NOT NULL,
	"balance" bigint NOT NULL,
	"position_uid" text NOT NULL,
	"instrument_uid" text NOT NULL,
	"exchange_blocked" bool NOT NULL,
	"instrument_type" text NOT NULL,
	CONSTRAINT "tinkoff_positions_securities_pk" PRIMARY KEY ("figi")
);
COMMENT ON TABLE "tin"."tinkoff_positions_securities" IS 'Баланс позиции ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_positions_securities"."figi" IS 'Figi-идентификатор бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_positions_securities"."blocked" IS 'Количество бумаг заблокированных выставленными заявками.';
COMMENT ON COLUMN "tin"."tinkoff_positions_securities"."balance" IS 'Текущий незаблокированный баланс.';
COMMENT ON COLUMN "tin"."tinkoff_positions_securities"."position_uid" IS 'Уникальный идентификатор позиции.';
COMMENT ON COLUMN "tin"."tinkoff_positions_securities"."instrument_uid" IS 'Уникальный идентификатор  инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_positions_securities"."exchange_blocked" IS 'Заблокировано на бирже.';
COMMENT ON COLUMN "tin"."tinkoff_positions_securities"."instrument_type" IS 'Тип инструмента.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_virtual_portfolio_position" (
	"position_uid" text NOT NULL,
	"instrument_uid" text NOT NULL,
	"figi" text NOT NULL,
	"instrument_type" text NOT NULL,
	"quantity_units" bigint NOT NULL,
	"quantity_nano" integer NOT NULL,
	"average_position_price_currency" text NOT NULL,
	"average_position_price_units" bigint NOT NULL,
	"average_position_price_nano" integer NOT NULL,
	"expected_yield_units" bigint NOT NULL,
	"expected_yield_nano" integer NOT NULL,
	"expected_yield_fifo_units" bigint NOT NULL,
	"expected_yield_fifo_nano" integer NOT NULL,
	"expire_date" timestamptz NULL,
	"current_price_currency" text NOT NULL,
	"current_price_units" bigint NOT NULL,
	"current_price_nano" integer NOT NULL,
	"average_position_price_fifo_currency" text NOT NULL,
	"average_position_price_fifo_units" bigint NOT NULL,
	"average_position_price_fifo_nano" integer NOT NULL,
	CONSTRAINT "tinkoff_virtual_portfolio_position_pk" PRIMARY KEY ("figi")
);
COMMENT ON TABLE "tin"."tinkoff_virtual_portfolio_position" IS '';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."position_uid" IS 'position_uid-идентификатора инструмента';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."instrument_uid" IS 'instrument_uid-идентификатора инструмента';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."figi" IS 'Figi-идентификатора инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."quantity_units" IS 'Количество инструмента в портфеле в штуках. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."quantity_nano" IS 'Количество инструмента в портфеле в штуках. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."average_position_price_currency" IS 'Средневзвешенная цена позиции. **Возможна задержка до секунды для пересчёта**. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."average_position_price_units" IS 'Средневзвешенная цена позиции. **Возможна задержка до секунды для пересчёта**. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."average_position_price_nano" IS 'Средневзвешенная цена позиции. **Возможна задержка до секунды для пересчёта**. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."expected_yield_units" IS 'Текущая рассчитанная доходность позиции. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."expected_yield_nano" IS 'Текущая рассчитанная доходность позиции. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."expected_yield_fifo_units" IS 'Текущая рассчитанная доходность позиции. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."expected_yield_fifo_nano" IS 'Текущая рассчитанная доходность позиции. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."expire_date" IS 'Дата до которой нужно продать виртуальные бумаги, после этой даты виртуальная позиция "сгорит"';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."current_price_currency" IS 'Текущая цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."current_price_units" IS 'Текущая цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."current_price_nano" IS 'Текущая цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."average_position_price_fifo_currency" IS 'Средняя цена позиции по методу FIFO. **Возможна задержка до секунды для пересчёта**. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."average_position_price_fifo_units" IS 'Средняя цена позиции по методу FIFO. **Возможна задержка до секунды для пересчёта**. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_virtual_portfolio_position"."average_position_price_fifo_nano" IS 'Средняя цена позиции по методу FIFO. **Возможна задержка до секунды для пересчёта**. / дробная часть суммы, может быть отрицательным числом';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_asset" (
	"uid" text NOT NULL,
	"type_id" bigint NULL,
	"name" text NOT NULL,
	CONSTRAINT "tinkoff_asset_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_asset_type_id_fk" FOREIGN KEY ("type_id") REFERENCES "tin"."tinkoff_asset_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_asset_type_id_idx" ON "tin"."tinkoff_asset" USING btree ("type_id");
COMMENT ON TABLE "tin"."tinkoff_asset" IS 'Информация об активе.';
COMMENT ON COLUMN "tin"."tinkoff_asset"."uid" IS 'Уникальный идентификатор актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset"."type_id" IS 'Тип актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset"."name" IS 'Наименование актива.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_asset_instrument" (
	"uid" text NOT NULL,
	"figi" text NOT NULL,
	"instrument_type" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"instrument_kind_id" bigint NULL,
	"position_uid" text NOT NULL,
	CONSTRAINT "tinkoff_asset_instrument_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_asset_instrument_instrument_kind_id_fk" FOREIGN KEY ("instrument_kind_id") REFERENCES "tin"."tinkoff_instrument_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_asset_instrument_instrument_kind_id_idx" ON "tin"."tinkoff_asset_instrument" USING btree ("instrument_kind_id");
COMMENT ON TABLE "tin"."tinkoff_asset_instrument" IS 'Идентификаторы инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_asset_instrument"."uid" IS 'uid идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_asset_instrument"."figi" IS 'figi идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_asset_instrument"."instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_asset_instrument"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_asset_instrument"."class_code" IS 'Класс-код (секция торгов).';
COMMENT ON COLUMN "tin"."tinkoff_asset_instrument"."instrument_kind_id" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_asset_instrument"."position_uid" IS 'id позиции.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_asset_share" (
	"type_id" bigint NULL,
	"issue_size_units" bigint NOT NULL,
	"issue_size_nano" integer NOT NULL,
	"nominal_units" bigint NOT NULL,
	"nominal_nano" integer NOT NULL,
	"nominal_currency" text NOT NULL,
	"primary_index" text NOT NULL,
	"dividend_rate_units" bigint NOT NULL,
	"dividend_rate_nano" integer NOT NULL,
	"preferred_share_type" text NOT NULL,
	"ipo_date" timestamptz NULL,
	"registry_date" timestamptz NULL,
	"div_yield_flag" bool NOT NULL,
	"issue_kind" text NOT NULL,
	"placement_date" timestamptz NULL,
	"repres_isin" text NOT NULL,
	"issue_size_plan_units" bigint NOT NULL,
	"issue_size_plan_nano" integer NOT NULL,
	"total_float_units" bigint NOT NULL,
	"total_float_nano" integer NOT NULL,
	CONSTRAINT "tinkoff_asset_share_pk" PRIMARY KEY ("primary_index"),
	CONSTRAINT "tinkoff_asset_share_type_id_fk" FOREIGN KEY ("type_id") REFERENCES "tin"."tinkoff_share_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_asset_share_type_id_idx" ON "tin"."tinkoff_asset_share" USING btree ("type_id");
COMMENT ON TABLE "tin"."tinkoff_asset_share" IS 'Акция.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."type_id" IS 'Тип акции.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."issue_size_units" IS 'Объем выпуска (шт.). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."issue_size_nano" IS 'Объем выпуска (шт.). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."nominal_units" IS 'Номинал. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."nominal_nano" IS 'Номинал. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."nominal_currency" IS 'Валюта номинала.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."primary_index" IS 'Индекс (Bloomberg).';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."dividend_rate_units" IS 'Ставка дивиденда (для привилегированных акций). / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."dividend_rate_nano" IS 'Ставка дивиденда (для привилегированных акций). / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."preferred_share_type" IS 'Тип привилегированных акций.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."ipo_date" IS 'Дата IPO.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."registry_date" IS 'Дата регистрации.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."div_yield_flag" IS 'Признак наличия дивидендной доходности.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."issue_kind" IS 'Форма выпуска ФИ.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."placement_date" IS 'Дата размещения акции.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."repres_isin" IS 'ISIN базового актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."issue_size_plan_units" IS 'Объявленное количество шт. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."issue_size_plan_nano" IS 'Объявленное количество шт. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."total_float_units" IS 'Количество акций в свободном обращении. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_asset_share"."total_float_nano" IS 'Количество акций в свободном обращении. / дробная часть суммы, может быть отрицательным числом';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_candle" (
	"figi" text NOT NULL,
	"interval_id" bigint NULL,
	"open_units" bigint NOT NULL,
	"open_nano" integer NOT NULL,
	"high_units" bigint NOT NULL,
	"high_nano" integer NOT NULL,
	"low_units" bigint NOT NULL,
	"low_nano" integer NOT NULL,
	"close_units" bigint NOT NULL,
	"close_nano" integer NOT NULL,
	"volume" bigint NOT NULL,
	"time" timestamptz NULL,
	"last_trade_ts" timestamptz NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_candle_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_candle_interval_id_fk" FOREIGN KEY ("interval_id") REFERENCES "tin"."tinkoff_subscription_interval" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_candle_interval_id_idx" ON "tin"."tinkoff_candle" USING btree ("interval_id");
COMMENT ON TABLE "tin"."tinkoff_candle" IS 'Пакет свечей в рамках стрима.';
COMMENT ON COLUMN "tin"."tinkoff_candle"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_candle"."interval_id" IS 'Интервал свечи.';
COMMENT ON COLUMN "tin"."tinkoff_candle"."open_units" IS 'Цена открытия за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."open_nano" IS 'Цена открытия за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."high_units" IS 'Максимальная цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."high_nano" IS 'Максимальная цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."low_units" IS 'Минимальная цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."low_nano" IS 'Минимальная цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."close_units" IS 'Цена закрытия за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."close_nano" IS 'Цена закрытия за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_candle"."volume" IS 'Объём сделок в лотах.';
COMMENT ON COLUMN "tin"."tinkoff_candle"."time" IS 'Время начала интервала свечи в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_candle"."last_trade_ts" IS 'Время последней сделки, вошедшей в свечу в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_candle"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_coupon" (
	"figi" text NOT NULL,
	"coupon_date" timestamptz NULL,
	"coupon_number" bigint NOT NULL,
	"fix_date" timestamptz NULL,
	"pay_one_bond_currency" text NOT NULL,
	"pay_one_bond_units" bigint NOT NULL,
	"pay_one_bond_nano" integer NOT NULL,
	"coupon_type_id" bigint NULL,
	"coupon_start_date" timestamptz NULL,
	"coupon_end_date" timestamptz NULL,
	"coupon_period" integer NOT NULL,
	CONSTRAINT "tinkoff_coupon_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_coupon_coupon_type_id_fk" FOREIGN KEY ("coupon_type_id") REFERENCES "tin"."tinkoff_coupon_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_coupon_coupon_type_id_idx" ON "tin"."tinkoff_coupon" USING btree ("coupon_type_id");
COMMENT ON TABLE "tin"."tinkoff_coupon" IS 'Объект передачи информации о купоне облигации.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."coupon_date" IS 'Дата выплаты купона.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."coupon_number" IS 'Номер купона.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."fix_date" IS '(Опционально) Дата фиксации реестра для выплаты купона.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."pay_one_bond_currency" IS 'Выплата на одну облигацию. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."pay_one_bond_units" IS 'Выплата на одну облигацию. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."pay_one_bond_nano" IS 'Выплата на одну облигацию. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."coupon_type_id" IS 'Тип купона.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."coupon_start_date" IS 'Начало купонного периода.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."coupon_end_date" IS 'Окончание купонного периода.';
COMMENT ON COLUMN "tin"."tinkoff_coupon"."coupon_period" IS 'Купонный период в днях.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_favorite_instrument" (
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"isin" text NOT NULL,
	"instrument_type" text NOT NULL,
	"otc_flag" bool NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	"instrument_kind_id" bigint NULL,
	CONSTRAINT "tinkoff_favorite_instrument_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_favorite_instrument_instrument_kind_id_fk" FOREIGN KEY ("instrument_kind_id") REFERENCES "tin"."tinkoff_instrument_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_favorite_instrument_instrument_kind_id_idx" ON "tin"."tinkoff_favorite_instrument" USING btree ("instrument_kind_id");
COMMENT ON TABLE "tin"."tinkoff_favorite_instrument" IS 'Массив избранных инструментов.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."class_code" IS 'Класс-код инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."isin" IS 'Isin-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_favorite_instrument"."instrument_kind_id" IS 'Тип инструмента.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_info_subscription" (
	"figi" text NOT NULL,
	"subscription_status_id" bigint NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_info_subscription_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_info_subscription_subscription_status_id_fk" FOREIGN KEY ("subscription_status_id") REFERENCES "tin"."tinkoff_subscription_status" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_info_subscription_subscription_status_id_idx" ON "tin"."tinkoff_info_subscription" USING btree ("subscription_status_id");
COMMENT ON TABLE "tin"."tinkoff_info_subscription" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_info_subscription"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_info_subscription"."subscription_status_id" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_info_subscription"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_instrument_short" (
	"isin" text NOT NULL,
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"instrument_type" text NOT NULL,
	"name" text NOT NULL,
	"uid" text NOT NULL,
	"position_uid" text NOT NULL,
	"instrument_kind_id" bigint NULL,
	"api_trade_available_flag" bool NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	CONSTRAINT "tinkoff_instrument_short_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_instrument_short_instrument_kind_id_fk" FOREIGN KEY ("instrument_kind_id") REFERENCES "tin"."tinkoff_instrument_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_instrument_short_instrument_kind_id_idx" ON "tin"."tinkoff_instrument_short" USING btree ("instrument_kind_id");
COMMENT ON TABLE "tin"."tinkoff_instrument_short" IS 'Краткая информация об инструменте.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."isin" IS 'Isin инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."figi" IS 'Figi инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."ticker" IS 'Ticker инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."class_code" IS 'ClassCode инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."position_uid" IS 'Уникальный идентификатор позиции инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."instrument_kind_id" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."for_iis_flag" IS 'Признак доступности для ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."first_1min_candle_date" IS 'Дата первой минутной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."first_1day_candle_date" IS 'Дата первой дневной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным';
COMMENT ON COLUMN "tin"."tinkoff_instrument_short"."blocked_tca_flag" IS 'Флаг заблокированного ТКС';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_last_price_subscription" (
	"figi" text NOT NULL,
	"subscription_status_id" bigint NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_last_price_subscription_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_last_price_subscription_subscription_status_id_fk" FOREIGN KEY ("subscription_status_id") REFERENCES "tin"."tinkoff_subscription_status" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_last_price_subscription_subscription_status_id_idx" ON "tin"."tinkoff_last_price_subscription" USING btree ("subscription_status_id");
COMMENT ON TABLE "tin"."tinkoff_last_price_subscription" IS 'Статус подписки на цену последней сделки.';
COMMENT ON COLUMN "tin"."tinkoff_last_price_subscription"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_last_price_subscription"."subscription_status_id" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_last_price_subscription"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_book_subscription" (
	"figi" text NOT NULL,
	"depth" integer NOT NULL,
	"subscription_status_id" bigint NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_order_book_subscription_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_order_book_subscription_subscription_status_id_fk" FOREIGN KEY ("subscription_status_id") REFERENCES "tin"."tinkoff_subscription_status" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_order_book_subscription_subscription_status_id_idx" ON "tin"."tinkoff_order_book_subscription" USING btree ("subscription_status_id");
COMMENT ON TABLE "tin"."tinkoff_order_book_subscription" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_order_book_subscription"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_order_book_subscription"."depth" IS 'Глубина стакана.';
COMMENT ON COLUMN "tin"."tinkoff_order_book_subscription"."subscription_status_id" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_order_book_subscription"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_trades" (
	"order_id" text NOT NULL,
	"created_at" timestamptz NULL,
	"direction_id" bigint NULL,
	"figi" text NOT NULL,
	"account_id" text NOT NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_order_trades_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_order_trades_direction_id_fk" FOREIGN KEY ("direction_id") REFERENCES "tin"."tinkoff_order_direction" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_order_trades_direction_id_idx" ON "tin"."tinkoff_order_trades" USING btree ("direction_id");
COMMENT ON TABLE "tin"."tinkoff_order_trades" IS 'Информация об исполнении торгового поручения.';
COMMENT ON COLUMN "tin"."tinkoff_order_trades"."order_id" IS 'Идентификатор торгового поручения.';
COMMENT ON COLUMN "tin"."tinkoff_order_trades"."created_at" IS 'Дата и время создания сообщения в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_order_trades"."direction_id" IS 'Направление сделки.';
COMMENT ON COLUMN "tin"."tinkoff_order_trades"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_order_trades"."account_id" IS 'Идентификатор счёта.';
COMMENT ON COLUMN "tin"."tinkoff_order_trades"."instrument_uid" IS 'UID идентификатор инструмента.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_trade" (
	"figi" text NOT NULL,
	"direction_id" bigint NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"quantity" bigint NOT NULL,
	"time" timestamptz NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_trade_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_trade_direction_id_fk" FOREIGN KEY ("direction_id") REFERENCES "tin"."tinkoff_trade_direction" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_trade_direction_id_idx" ON "tin"."tinkoff_trade" USING btree ("direction_id");
COMMENT ON TABLE "tin"."tinkoff_trade" IS 'Информация о сделке.';
COMMENT ON COLUMN "tin"."tinkoff_trade"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_trade"."direction_id" IS 'Направление сделки.';
COMMENT ON COLUMN "tin"."tinkoff_trade"."price_units" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_trade"."price_nano" IS 'Цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. Для перевод цен в валюту рекомендуем использовать [информацию со страницы](https://tinkoff.github.io/investAPI/faq_marketdata/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_trade"."quantity" IS 'Количество лотов.';
COMMENT ON COLUMN "tin"."tinkoff_trade"."time" IS 'Время сделки в часовом поясе UTC по времени биржи.';
COMMENT ON COLUMN "tin"."tinkoff_trade"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_trade_subscription" (
	"figi" text NOT NULL,
	"subscription_status_id" bigint NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_trade_subscription_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_trade_subscription_subscription_status_id_fk" FOREIGN KEY ("subscription_status_id") REFERENCES "tin"."tinkoff_subscription_status" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_trade_subscription_subscription_status_id_idx" ON "tin"."tinkoff_trade_subscription" USING btree ("subscription_status_id");
COMMENT ON TABLE "tin"."tinkoff_trade_subscription" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_trade_subscription"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_trade_subscription"."subscription_status_id" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_trade_subscription"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_trading_status" (
	"figi" text NOT NULL,
	"trading_status_id" bigint NULL,
	"time" timestamptz NULL,
	"limit_order_available_flag" bool NOT NULL,
	"market_order_available_flag" bool NOT NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_trading_status_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_trading_status_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_trading_status_trading_status_id_idx" ON "tin"."tinkoff_trading_status" USING btree ("trading_status_id");
COMMENT ON TABLE "tin"."tinkoff_trading_status" IS 'Пакет изменения торгового статуса.';
COMMENT ON COLUMN "tin"."tinkoff_trading_status"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_trading_status"."trading_status_id" IS 'Статус торговли инструментом.';
COMMENT ON COLUMN "tin"."tinkoff_trading_status"."time" IS 'Время изменения торгового статуса в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_trading_status"."limit_order_available_flag" IS 'Признак доступности выставления лимитной заявки по инструменту.';
COMMENT ON COLUMN "tin"."tinkoff_trading_status"."market_order_available_flag" IS 'Признак доступности выставления рыночной заявки по инструменту.';
COMMENT ON COLUMN "tin"."tinkoff_trading_status"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_asset_full" (
	"uid" text NOT NULL,
	"type_id" bigint NULL,
	"name" text NOT NULL,
	"name_brief" text NOT NULL,
	"description" text NOT NULL,
	"deleted_at" timestamptz NULL,
	"gos_reg_code" text NOT NULL,
	"cfi" text NOT NULL,
	"code_nsd" text NOT NULL,
	"status" text NOT NULL,
	"brand_id" text NULL,
	"updated_at" timestamptz NULL,
	"br_code" text NOT NULL,
	"br_code_name" text NOT NULL,
	CONSTRAINT "tinkoff_asset_full_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_asset_full_type_id_fk" FOREIGN KEY ("type_id") REFERENCES "tin"."tinkoff_asset_type" ("id"),
	CONSTRAINT "tinkoff_asset_full_brand_id_fk" FOREIGN KEY ("brand_id") REFERENCES "tin"."tinkoff_brand" ("uid")
);
CREATE INDEX IF NOT EXISTS "tinkoff_asset_full_type_id_idx" ON "tin"."tinkoff_asset_full" USING btree ("type_id");
CREATE INDEX IF NOT EXISTS "tinkoff_asset_full_brand_id_idx" ON "tin"."tinkoff_asset_full" USING btree ("brand_id");
COMMENT ON TABLE "tin"."tinkoff_asset_full" IS '';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."uid" IS 'Уникальный идентификатор актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."type_id" IS 'Тип актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."name" IS 'Наименование актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."name_brief" IS 'Короткое наименование актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."description" IS 'Описание актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."deleted_at" IS 'Дата и время удаления актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."gos_reg_code" IS 'Номер государственной регистрации.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."cfi" IS 'Код CFI.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."code_nsd" IS 'Код НРД инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."status" IS 'Статус актива.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."brand_id" IS 'Бренд.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."updated_at" IS 'Дата и время последнего обновления записи.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."br_code" IS 'Код типа ц.б. по классификации Банка России.';
COMMENT ON COLUMN "tin"."tinkoff_asset_full"."br_code_name" IS 'Наименование кода типа ц.б. по классификации Банка России.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_candle_subscription" (
	"figi" text NOT NULL,
	"interval_id" bigint NULL,
	"subscription_status_id" bigint NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_candle_subscription_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_candle_subscription_interval_id_fk" FOREIGN KEY ("interval_id") REFERENCES "tin"."tinkoff_subscription_interval" ("id"),
	CONSTRAINT "tinkoff_candle_subscription_subscription_status_id_fk" FOREIGN KEY ("subscription_status_id") REFERENCES "tin"."tinkoff_subscription_status" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_candle_subscription_interval_id_idx" ON "tin"."tinkoff_candle_subscription" USING btree ("interval_id");
CREATE INDEX IF NOT EXISTS "tinkoff_candle_subscription_subscription_status_id_idx" ON "tin"."tinkoff_candle_subscription" USING btree ("subscription_status_id");
COMMENT ON TABLE "tin"."tinkoff_candle_subscription" IS 'Статус подписки на свечи.';
COMMENT ON COLUMN "tin"."tinkoff_candle_subscription"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_candle_subscription"."interval_id" IS 'Интервал свечей.';
COMMENT ON COLUMN "tin"."tinkoff_candle_subscription"."subscription_status_id" IS 'Статус подписки.';
COMMENT ON COLUMN "tin"."tinkoff_candle_subscription"."instrument_uid" IS 'Uid инструмента';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_currency" (
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"isin" text NOT NULL,
	"lot" integer NOT NULL,
	"currency" text NOT NULL,
	"klong_units" bigint NOT NULL,
	"klong_nano" integer NOT NULL,
	"kshort_units" bigint NOT NULL,
	"kshort_nano" integer NOT NULL,
	"dlong_units" bigint NOT NULL,
	"dlong_nano" integer NOT NULL,
	"dshort_units" bigint NOT NULL,
	"dshort_nano" integer NOT NULL,
	"dlong_min_units" bigint NOT NULL,
	"dlong_min_nano" integer NOT NULL,
	"dshort_min_units" bigint NOT NULL,
	"dshort_min_nano" integer NOT NULL,
	"short_enabled_flag" bool NOT NULL,
	"name" text NOT NULL,
	"exchange" text NOT NULL,
	"nominal_currency" text NOT NULL,
	"nominal_units" bigint NOT NULL,
	"nominal_nano" integer NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	"trading_status_id" bigint NULL,
	"otc_flag" bool NOT NULL,
	"buy_available_flag" bool NOT NULL,
	"sell_available_flag" bool NOT NULL,
	"iso_currency_name" text NOT NULL,
	"min_price_increment_units" bigint NOT NULL,
	"min_price_increment_nano" integer NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	"uid" text NOT NULL,
	"real_exchange_id" bigint NULL,
	"position_uid" text NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	CONSTRAINT "tinkoff_currency_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_currency_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id"),
	CONSTRAINT "tinkoff_currency_real_exchange_id_fk" FOREIGN KEY ("real_exchange_id") REFERENCES "tin"."tinkoff_real_exchange" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_currency_trading_status_id_idx" ON "tin"."tinkoff_currency" USING btree ("trading_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_currency_real_exchange_id_idx" ON "tin"."tinkoff_currency" USING btree ("real_exchange_id");
COMMENT ON TABLE "tin"."tinkoff_currency" IS 'Объект передачи информации о валюте.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."class_code" IS 'Класс-код (секция торгов).';
COMMENT ON COLUMN "tin"."tinkoff_currency"."isin" IS 'Isin-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."lot" IS 'Лотность инструмента. Возможно совершение операций только на количества ценной бумаги, кратные параметру *lot*. Подробнее: [лот](https://tinkoff.github.io/investAPI/glossary#lot)';
COMMENT ON COLUMN "tin"."tinkoff_currency"."currency" IS 'Валюта расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."klong_units" IS 'Коэффициент ставки риска длинной позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."klong_nano" IS 'Коэффициент ставки риска длинной позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."kshort_units" IS 'Коэффициент ставки риска короткой позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."kshort_nano" IS 'Коэффициент ставки риска короткой позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dlong_units" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dlong_nano" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dshort_units" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dshort_nano" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dlong_min_units" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dlong_min_nano" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dshort_min_units" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."dshort_min_nano" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."short_enabled_flag" IS 'Признак доступности для операций в шорт.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."exchange" IS 'Торговая площадка.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."nominal_currency" IS 'Номинал. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_currency"."nominal_units" IS 'Номинал. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."nominal_nano" IS 'Номинал. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."country_of_risk" IS 'Код страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."country_of_risk_name" IS 'Наименование страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."trading_status_id" IS 'Текущий режим торгов инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."buy_available_flag" IS 'Признак доступности для покупки.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."sell_available_flag" IS 'Признак доступности для продажи.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."iso_currency_name" IS 'Строковый ISO-код валюты.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."min_price_increment_units" IS 'Шаг цены. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."min_price_increment_nano" IS 'Шаг цены. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_currency"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."real_exchange_id" IS 'Реальная площадка исполнения расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."position_uid" IS 'Уникальный идентификатор позиции инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."for_iis_flag" IS 'Признак доступности для ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."blocked_tca_flag" IS 'Флаг заблокированного ТКС.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."first_1min_candle_date" IS 'Дата первой минутной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_currency"."first_1day_candle_date" IS 'Дата первой дневной свечи.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_etf" (
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"isin" text NOT NULL,
	"lot" integer NOT NULL,
	"currency" text NOT NULL,
	"klong_units" bigint NOT NULL,
	"klong_nano" integer NOT NULL,
	"kshort_units" bigint NOT NULL,
	"kshort_nano" integer NOT NULL,
	"dlong_units" bigint NOT NULL,
	"dlong_nano" integer NOT NULL,
	"dshort_units" bigint NOT NULL,
	"dshort_nano" integer NOT NULL,
	"dlong_min_units" bigint NOT NULL,
	"dlong_min_nano" integer NOT NULL,
	"dshort_min_units" bigint NOT NULL,
	"dshort_min_nano" integer NOT NULL,
	"short_enabled_flag" bool NOT NULL,
	"name" text NOT NULL,
	"exchange" text NOT NULL,
	"fixed_commission_units" bigint NOT NULL,
	"fixed_commission_nano" integer NOT NULL,
	"focus_type" text NOT NULL,
	"released_date" timestamptz NULL,
	"num_shares_units" bigint NOT NULL,
	"num_shares_nano" integer NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	"sector" text NOT NULL,
	"rebalancing_freq" text NOT NULL,
	"trading_status_id" bigint NULL,
	"otc_flag" bool NOT NULL,
	"buy_available_flag" bool NOT NULL,
	"sell_available_flag" bool NOT NULL,
	"min_price_increment_units" bigint NOT NULL,
	"min_price_increment_nano" integer NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	"uid" text NOT NULL,
	"real_exchange_id" bigint NULL,
	"position_uid" text NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	"liquidity_flag" bool NOT NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	CONSTRAINT "tinkoff_etf_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_etf_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id"),
	CONSTRAINT "tinkoff_etf_real_exchange_id_fk" FOREIGN KEY ("real_exchange_id") REFERENCES "tin"."tinkoff_real_exchange" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_etf_trading_status_id_idx" ON "tin"."tinkoff_etf" USING btree ("trading_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_etf_real_exchange_id_idx" ON "tin"."tinkoff_etf" USING btree ("real_exchange_id");
COMMENT ON TABLE "tin"."tinkoff_etf" IS 'Объект передачи информации об инвестиционном фонде.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."class_code" IS 'Класс-код (секция торгов).';
COMMENT ON COLUMN "tin"."tinkoff_etf"."isin" IS 'Isin-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."lot" IS 'Лотность инструмента. Возможно совершение операций только на количества ценной бумаги, кратные параметру *lot*. Подробнее: [лот](https://tinkoff.github.io/investAPI/glossary#lot)';
COMMENT ON COLUMN "tin"."tinkoff_etf"."currency" IS 'Валюта расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."klong_units" IS 'Коэффициент ставки риска длинной позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."klong_nano" IS 'Коэффициент ставки риска длинной позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."kshort_units" IS 'Коэффициент ставки риска короткой позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."kshort_nano" IS 'Коэффициент ставки риска короткой позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dlong_units" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dlong_nano" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dshort_units" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dshort_nano" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dlong_min_units" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dlong_min_nano" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dshort_min_units" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."dshort_min_nano" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."short_enabled_flag" IS 'Признак доступности для операций в шорт.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."exchange" IS 'Торговая площадка.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."fixed_commission_units" IS 'Размер фиксированной комиссии фонда. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."fixed_commission_nano" IS 'Размер фиксированной комиссии фонда. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."focus_type" IS 'Возможные значения: </br>**equity** — акции;</br>**fixed_income** — облигации;</br>**mixed_allocation** — смешанный;</br>**money_market** — денежный рынок;</br>**real_estate** — недвижимость;</br>**commodity** — товары;</br>**specialty** — специальный;</br>**private_equity** — private equity;</br>**alternative_investment** — альтернативные инвестиции.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."released_date" IS 'Дата выпуска в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."num_shares_units" IS 'Количество акций фонда в обращении. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."num_shares_nano" IS 'Количество акций фонда в обращении. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."country_of_risk" IS 'Код страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."country_of_risk_name" IS 'Наименование страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."sector" IS 'Сектор экономики.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."rebalancing_freq" IS 'Частота ребалансировки.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."trading_status_id" IS 'Текущий режим торгов инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."buy_available_flag" IS 'Признак доступности для покупки.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."sell_available_flag" IS 'Признак доступности для продажи.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."min_price_increment_units" IS 'Шаг цены. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."min_price_increment_nano" IS 'Шаг цены. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_etf"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."real_exchange_id" IS 'Реальная площадка исполнения расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."position_uid" IS 'Уникальный идентификатор позиции инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."for_iis_flag" IS 'Признак доступности для ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."blocked_tca_flag" IS 'Флаг заблокированного ТКС.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."liquidity_flag" IS 'Флаг достаточной ликвидности';
COMMENT ON COLUMN "tin"."tinkoff_etf"."first_1min_candle_date" IS 'Дата первой минутной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_etf"."first_1day_candle_date" IS 'Дата первой дневной свечи.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_future" (
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"lot" integer NOT NULL,
	"currency" text NOT NULL,
	"klong_units" bigint NOT NULL,
	"klong_nano" integer NOT NULL,
	"kshort_units" bigint NOT NULL,
	"kshort_nano" integer NOT NULL,
	"dlong_units" bigint NOT NULL,
	"dlong_nano" integer NOT NULL,
	"dshort_units" bigint NOT NULL,
	"dshort_nano" integer NOT NULL,
	"dlong_min_units" bigint NOT NULL,
	"dlong_min_nano" integer NOT NULL,
	"dshort_min_units" bigint NOT NULL,
	"dshort_min_nano" integer NOT NULL,
	"short_enabled_flag" bool NOT NULL,
	"name" text NOT NULL,
	"exchange" text NOT NULL,
	"first_trade_date" timestamptz NULL,
	"last_trade_date" timestamptz NULL,
	"futures_type" text NOT NULL,
	"asset_type" text NOT NULL,
	"basic_asset" text NOT NULL,
	"basic_asset_size_units" bigint NOT NULL,
	"basic_asset_size_nano" integer NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	"sector" text NOT NULL,
	"expiration_date" timestamptz NULL,
	"trading_status_id" bigint NULL,
	"otc_flag" bool NOT NULL,
	"buy_available_flag" bool NOT NULL,
	"sell_available_flag" bool NOT NULL,
	"min_price_increment_units" bigint NOT NULL,
	"min_price_increment_nano" integer NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	"uid" text NOT NULL,
	"real_exchange_id" bigint NULL,
	"position_uid" text NOT NULL,
	"basic_asset_position_uid" text NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	CONSTRAINT "tinkoff_future_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_future_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id"),
	CONSTRAINT "tinkoff_future_real_exchange_id_fk" FOREIGN KEY ("real_exchange_id") REFERENCES "tin"."tinkoff_real_exchange" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_future_trading_status_id_idx" ON "tin"."tinkoff_future" USING btree ("trading_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_future_real_exchange_id_idx" ON "tin"."tinkoff_future" USING btree ("real_exchange_id");
COMMENT ON TABLE "tin"."tinkoff_future" IS 'Объект передачи информации о фьючерсе.';
COMMENT ON COLUMN "tin"."tinkoff_future"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_future"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_future"."class_code" IS 'Класс-код (секция торгов).';
COMMENT ON COLUMN "tin"."tinkoff_future"."lot" IS 'Лотность инструмента. Возможно совершение операций только на количества ценной бумаги, кратные параметру *lot*. Подробнее: [лот](https://tinkoff.github.io/investAPI/glossary#lot)';
COMMENT ON COLUMN "tin"."tinkoff_future"."currency" IS 'Валюта расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_future"."klong_units" IS 'Коэффициент ставки риска длинной позиции по клиенту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."klong_nano" IS 'Коэффициент ставки риска длинной позиции по клиенту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."kshort_units" IS 'Коэффициент ставки риска короткой позиции по клиенту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."kshort_nano" IS 'Коэффициент ставки риска короткой позиции по клиенту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dlong_units" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dlong_nano" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dshort_units" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dshort_nano" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dlong_min_units" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dlong_min_nano" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dshort_min_units" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."dshort_min_nano" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."short_enabled_flag" IS 'Признак доступности для операций шорт.';
COMMENT ON COLUMN "tin"."tinkoff_future"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_future"."exchange" IS 'Торговая площадка.';
COMMENT ON COLUMN "tin"."tinkoff_future"."first_trade_date" IS 'Дата начала обращения контракта в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_future"."last_trade_date" IS 'Дата в часовом поясе UTC, до которой возможно проведение операций с фьючерсом.';
COMMENT ON COLUMN "tin"."tinkoff_future"."futures_type" IS 'Тип фьючерса. Возможные значения: </br>**physical_delivery** — физические поставки; </br>**cash_settlement** — денежный эквивалент.';
COMMENT ON COLUMN "tin"."tinkoff_future"."asset_type" IS 'Тип актива. Возможные значения: </br>**commodity** — товар; </br>**currency** — валюта; </br>**security** — ценная бумага; </br>**index** — индекс.';
COMMENT ON COLUMN "tin"."tinkoff_future"."basic_asset" IS 'Основной актив.';
COMMENT ON COLUMN "tin"."tinkoff_future"."basic_asset_size_units" IS 'Размер основного актива. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."basic_asset_size_nano" IS 'Размер основного актива. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."country_of_risk" IS 'Код страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_future"."country_of_risk_name" IS 'Наименование страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_future"."sector" IS 'Сектор экономики.';
COMMENT ON COLUMN "tin"."tinkoff_future"."expiration_date" IS 'Дата истечения срока в часов поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_future"."trading_status_id" IS 'Текущий режим торгов инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_future"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_future"."buy_available_flag" IS 'Признак доступности для покупки.';
COMMENT ON COLUMN "tin"."tinkoff_future"."sell_available_flag" IS 'Признак доступности для продажи.';
COMMENT ON COLUMN "tin"."tinkoff_future"."min_price_increment_units" IS 'Шаг цены. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."min_price_increment_nano" IS 'Шаг цены. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_future"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_future"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_future"."real_exchange_id" IS 'Реальная площадка исполнения расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_future"."position_uid" IS 'Уникальный идентификатор позиции инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_future"."basic_asset_position_uid" IS 'Уникальный идентификатор позиции основного инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_future"."for_iis_flag" IS 'Признак доступности для ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_future"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_future"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным.';
COMMENT ON COLUMN "tin"."tinkoff_future"."blocked_tca_flag" IS 'Флаг заблокированного ТКС.';
COMMENT ON COLUMN "tin"."tinkoff_future"."first_1min_candle_date" IS 'Дата первой минутной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_future"."first_1day_candle_date" IS 'Дата первой дневной свечи.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_operation" (
	"id" text NOT NULL,
	"parent_operation_id" text NOT NULL,
	"currency" text NOT NULL,
	"payment_currency" text NOT NULL,
	"payment_units" bigint NOT NULL,
	"payment_nano" integer NOT NULL,
	"price_currency" text NOT NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"state_id" bigint NULL,
	"quantity" bigint NOT NULL,
	"quantity_rest" bigint NOT NULL,
	"figi" text NOT NULL,
	"instrument_type" text NOT NULL,
	"date" timestamptz NULL,
	"type" text NOT NULL,
	"operation_type_id" bigint NULL,
	"asset_uid" text NOT NULL,
	"position_uid" text NOT NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_operation_pk" PRIMARY KEY ("id"),
	CONSTRAINT "tinkoff_operation_state_id_fk" FOREIGN KEY ("state_id") REFERENCES "tin"."tinkoff_operation_state" ("id"),
	CONSTRAINT "tinkoff_operation_operation_type_id_fk" FOREIGN KEY ("operation_type_id") REFERENCES "tin"."tinkoff_operation_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_operation_state_id_idx" ON "tin"."tinkoff_operation" USING btree ("state_id");
CREATE INDEX IF NOT EXISTS "tinkoff_operation_operation_type_id_idx" ON "tin"."tinkoff_operation" USING btree ("operation_type_id");
COMMENT ON TABLE "tin"."tinkoff_operation" IS 'Данные по операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."id" IS 'Идентификатор операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."parent_operation_id" IS 'Идентификатор родительской операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."currency" IS 'Валюта операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."payment_currency" IS 'Сумма операции. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation"."payment_units" IS 'Сумма операции. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation"."payment_nano" IS 'Сумма операции. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation"."price_currency" IS 'Цена операции за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation"."price_units" IS 'Цена операции за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation"."price_nano" IS 'Цена операции за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation"."state_id" IS 'Статус операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."quantity" IS 'Количество единиц инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."quantity_rest" IS 'Неисполненный остаток по сделке.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."figi" IS 'Figi-идентификатор инструмента, связанного с операцией.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."instrument_type" IS 'Тип инструмента. Возможные значения: </br>**bond** — облигация; </br>**share** — акция; </br>**currency** — валюта; </br>**etf** — фонд; </br>**futures** — фьючерс.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."date" IS 'Дата и время операции в формате часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."type" IS 'Текстовое описание типа операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."operation_type_id" IS 'Тип операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."asset_uid" IS 'Идентификатор актива';
COMMENT ON COLUMN "tin"."tinkoff_operation"."position_uid" IS 'position_uid-идентификатора инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_operation"."instrument_uid" IS 'Уникальный идентификатор инструмента.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_stop_order" (
	"stop_order_id" text NOT NULL,
	"lots_requested" bigint NOT NULL,
	"figi" text NOT NULL,
	"direction_id" bigint NULL,
	"currency" text NOT NULL,
	"order_type_id" bigint NULL,
	"create_date" timestamptz NULL,
	"activation_date_time" timestamptz NULL,
	"expiration_time" timestamptz NULL,
	"price_currency" text NOT NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"stop_price_currency" text NOT NULL,
	"stop_price_units" bigint NOT NULL,
	"stop_price_nano" integer NOT NULL,
	"instrument_uid" text NOT NULL,
	CONSTRAINT "tinkoff_stop_order_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_stop_order_direction_id_fk" FOREIGN KEY ("direction_id") REFERENCES "tin"."tinkoff_stop_order_direction" ("id"),
	CONSTRAINT "tinkoff_stop_order_order_type_id_fk" FOREIGN KEY ("order_type_id") REFERENCES "tin"."tinkoff_stop_order_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_stop_order_direction_id_idx" ON "tin"."tinkoff_stop_order" USING btree ("direction_id");
CREATE INDEX IF NOT EXISTS "tinkoff_stop_order_order_type_id_idx" ON "tin"."tinkoff_stop_order" USING btree ("order_type_id");
COMMENT ON TABLE "tin"."tinkoff_stop_order" IS 'Информация о стоп-заявке.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."stop_order_id" IS 'Идентификатор-идентификатор стоп-заявки.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."lots_requested" IS 'Запрошено лотов.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."direction_id" IS 'Направление операции.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."currency" IS 'Валюта стоп-заявки.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."order_type_id" IS 'Тип стоп-заявки.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."create_date" IS 'Дата и время выставления заявки в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."activation_date_time" IS 'Дата и время конвертации стоп-заявки в биржевую в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."expiration_time" IS 'Дата и время снятия заявки в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."price_currency" IS 'Цена заявки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."price_units" IS 'Цена заявки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."price_nano" IS 'Цена заявки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."stop_price_currency" IS 'Цена активации стоп-заявки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."stop_price_units" IS 'Цена активации стоп-заявки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."stop_price_nano" IS 'Цена активации стоп-заявки за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_stop_order"."instrument_uid" IS 'instrument_uid идентификатор инструмента.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_account" (
	"id" text NOT NULL,
	"type_id" bigint NULL,
	"name" text NOT NULL,
	"status_id" bigint NULL,
	"opened_date" timestamptz NULL,
	"closed_date" timestamptz NULL,
	"access_level_id" bigint NULL,
	CONSTRAINT "tinkoff_account_pk" PRIMARY KEY ("id"),
	CONSTRAINT "tinkoff_account_type_id_fk" FOREIGN KEY ("type_id") REFERENCES "tin"."tinkoff_account_type" ("id"),
	CONSTRAINT "tinkoff_account_status_id_fk" FOREIGN KEY ("status_id") REFERENCES "tin"."tinkoff_account_status" ("id"),
	CONSTRAINT "tinkoff_account_access_level_id_fk" FOREIGN KEY ("access_level_id") REFERENCES "tin"."tinkoff_access_level" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_account_type_id_idx" ON "tin"."tinkoff_account" USING btree ("type_id");
CREATE INDEX IF NOT EXISTS "tinkoff_account_status_id_idx" ON "tin"."tinkoff_account" USING btree ("status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_account_access_level_id_idx" ON "tin"."tinkoff_account" USING btree ("access_level_id");
COMMENT ON TABLE "tin"."tinkoff_account" IS 'Информация о счёте.';
COMMENT ON COLUMN "tin"."tinkoff_account"."id" IS 'Идентификатор счёта.';
COMMENT ON COLUMN "tin"."tinkoff_account"."type_id" IS 'Тип счёта.';
COMMENT ON COLUMN "tin"."tinkoff_account"."name" IS 'Название счёта.';
COMMENT ON COLUMN "tin"."tinkoff_account"."status_id" IS 'Статус счёта.';
COMMENT ON COLUMN "tin"."tinkoff_account"."opened_date" IS 'Дата открытия счёта в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_account"."closed_date" IS 'Дата закрытия счёта в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_account"."access_level_id" IS 'Уровень доступа к текущему счёту (определяется токеном).';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_bond" (
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"isin" text NOT NULL,
	"lot" integer NOT NULL,
	"currency" text NOT NULL,
	"klong_units" bigint NOT NULL,
	"klong_nano" integer NOT NULL,
	"kshort_units" bigint NOT NULL,
	"kshort_nano" integer NOT NULL,
	"dlong_units" bigint NOT NULL,
	"dlong_nano" integer NOT NULL,
	"dshort_units" bigint NOT NULL,
	"dshort_nano" integer NOT NULL,
	"dlong_min_units" bigint NOT NULL,
	"dlong_min_nano" integer NOT NULL,
	"dshort_min_units" bigint NOT NULL,
	"dshort_min_nano" integer NOT NULL,
	"short_enabled_flag" bool NOT NULL,
	"name" text NOT NULL,
	"exchange" text NOT NULL,
	"coupon_quantity_per_year" integer NOT NULL,
	"maturity_date" timestamptz NULL,
	"nominal_currency" text NOT NULL,
	"nominal_units" bigint NOT NULL,
	"nominal_nano" integer NOT NULL,
	"initial_nominal_currency" text NOT NULL,
	"initial_nominal_units" bigint NOT NULL,
	"initial_nominal_nano" integer NOT NULL,
	"state_reg_date" timestamptz NULL,
	"placement_date" timestamptz NULL,
	"placement_price_currency" text NOT NULL,
	"placement_price_units" bigint NOT NULL,
	"placement_price_nano" integer NOT NULL,
	"aci_value_currency" text NOT NULL,
	"aci_value_units" bigint NOT NULL,
	"aci_value_nano" integer NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	"sector" text NOT NULL,
	"issue_kind" text NOT NULL,
	"issue_size" bigint NOT NULL,
	"issue_size_plan" bigint NOT NULL,
	"trading_status_id" bigint NULL,
	"otc_flag" bool NOT NULL,
	"buy_available_flag" bool NOT NULL,
	"sell_available_flag" bool NOT NULL,
	"floating_coupon_flag" bool NOT NULL,
	"perpetual_flag" bool NOT NULL,
	"amortization_flag" bool NOT NULL,
	"min_price_increment_units" bigint NOT NULL,
	"min_price_increment_nano" integer NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	"uid" text NOT NULL,
	"real_exchange_id" bigint NULL,
	"position_uid" text NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	"subordinated_flag" bool NOT NULL,
	"liquidity_flag" bool NOT NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	"risk_level_id" bigint NULL,
	CONSTRAINT "tinkoff_bond_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_bond_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id"),
	CONSTRAINT "tinkoff_bond_real_exchange_id_fk" FOREIGN KEY ("real_exchange_id") REFERENCES "tin"."tinkoff_real_exchange" ("id"),
	CONSTRAINT "tinkoff_bond_risk_level_id_fk" FOREIGN KEY ("risk_level_id") REFERENCES "tin"."tinkoff_risk_level" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_bond_trading_status_id_idx" ON "tin"."tinkoff_bond" USING btree ("trading_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_bond_real_exchange_id_idx" ON "tin"."tinkoff_bond" USING btree ("real_exchange_id");
CREATE INDEX IF NOT EXISTS "tinkoff_bond_risk_level_id_idx" ON "tin"."tinkoff_bond" USING btree ("risk_level_id");
COMMENT ON TABLE "tin"."tinkoff_bond" IS 'Объект передачи информации об облигации.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."class_code" IS 'Класс-код (секция торгов).';
COMMENT ON COLUMN "tin"."tinkoff_bond"."isin" IS 'Isin-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."lot" IS 'Лотность инструмента. Возможно совершение операций только на количества ценной бумаги, кратные параметру *lot*. Подробнее: [лот](https://tinkoff.github.io/investAPI/glossary#lot)';
COMMENT ON COLUMN "tin"."tinkoff_bond"."currency" IS 'Валюта расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."klong_units" IS 'Коэффициент ставки риска длинной позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."klong_nano" IS 'Коэффициент ставки риска длинной позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."kshort_units" IS 'Коэффициент ставки риска короткой позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."kshort_nano" IS 'Коэффициент ставки риска короткой позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dlong_units" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dlong_nano" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dshort_units" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dshort_nano" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dlong_min_units" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dlong_min_nano" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dshort_min_units" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."dshort_min_nano" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."short_enabled_flag" IS 'Признак доступности для операций в шорт.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."exchange" IS 'Торговая площадка.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."coupon_quantity_per_year" IS 'Количество выплат по купонам в год.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."maturity_date" IS 'Дата погашения облигации в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."nominal_currency" IS 'Номинал облигации. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_bond"."nominal_units" IS 'Номинал облигации. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."nominal_nano" IS 'Номинал облигации. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."initial_nominal_currency" IS 'Первоначальный номинал облигации. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_bond"."initial_nominal_units" IS 'Первоначальный номинал облигации. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."initial_nominal_nano" IS 'Первоначальный номинал облигации. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."state_reg_date" IS 'Дата выпуска облигации в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."placement_date" IS 'Дата размещения в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."placement_price_currency" IS 'Цена размещения. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_bond"."placement_price_units" IS 'Цена размещения. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."placement_price_nano" IS 'Цена размещения. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."aci_value_currency" IS 'Значение НКД (накопленного купонного дохода) на дату. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_bond"."aci_value_units" IS 'Значение НКД (накопленного купонного дохода) на дату. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."aci_value_nano" IS 'Значение НКД (накопленного купонного дохода) на дату. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."country_of_risk" IS 'Код страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."country_of_risk_name" IS 'Наименование страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."sector" IS 'Сектор экономики.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."issue_kind" IS 'Форма выпуска. Возможные значения: </br>**documentary** — документарная; </br>**non_documentary** — бездокументарная.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."issue_size" IS 'Размер выпуска.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."issue_size_plan" IS 'Плановый размер выпуска.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."trading_status_id" IS 'Текущий режим торгов инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."buy_available_flag" IS 'Признак доступности для покупки.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."sell_available_flag" IS 'Признак доступности для продажи.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."floating_coupon_flag" IS 'Признак облигации с плавающим купоном.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."perpetual_flag" IS 'Признак бессрочной облигации.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."amortization_flag" IS 'Признак облигации с амортизацией долга.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."min_price_increment_units" IS 'Шаг цены. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."min_price_increment_nano" IS 'Шаг цены. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_bond"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."real_exchange_id" IS 'Реальная площадка исполнения расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."position_uid" IS 'Уникальный идентификатор позиции инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."for_iis_flag" IS 'Признак доступности для ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным';
COMMENT ON COLUMN "tin"."tinkoff_bond"."blocked_tca_flag" IS 'Флаг заблокированного ТКС';
COMMENT ON COLUMN "tin"."tinkoff_bond"."subordinated_flag" IS 'Признак субординированной облигации.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."liquidity_flag" IS 'Флаг достаточной ликвидности';
COMMENT ON COLUMN "tin"."tinkoff_bond"."first_1min_candle_date" IS 'Дата первой минутной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."first_1day_candle_date" IS 'Дата первой дневной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_bond"."risk_level_id" IS 'Уровень риска.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_instrument" (
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"isin" text NOT NULL,
	"lot" integer NOT NULL,
	"currency" text NOT NULL,
	"klong_units" bigint NOT NULL,
	"klong_nano" integer NOT NULL,
	"kshort_units" bigint NOT NULL,
	"kshort_nano" integer NOT NULL,
	"dlong_units" bigint NOT NULL,
	"dlong_nano" integer NOT NULL,
	"dshort_units" bigint NOT NULL,
	"dshort_nano" integer NOT NULL,
	"dlong_min_units" bigint NOT NULL,
	"dlong_min_nano" integer NOT NULL,
	"dshort_min_units" bigint NOT NULL,
	"dshort_min_nano" integer NOT NULL,
	"short_enabled_flag" bool NOT NULL,
	"name" text NOT NULL,
	"exchange" text NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	"instrument_type" text NOT NULL,
	"trading_status_id" bigint NULL,
	"otc_flag" bool NOT NULL,
	"buy_available_flag" bool NOT NULL,
	"sell_available_flag" bool NOT NULL,
	"min_price_increment_units" bigint NOT NULL,
	"min_price_increment_nano" integer NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	"uid" text NOT NULL,
	"real_exchange_id" bigint NULL,
	"position_uid" text NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	"instrument_kind_id" bigint NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	CONSTRAINT "tinkoff_instrument_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_instrument_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id"),
	CONSTRAINT "tinkoff_instrument_real_exchange_id_fk" FOREIGN KEY ("real_exchange_id") REFERENCES "tin"."tinkoff_real_exchange" ("id"),
	CONSTRAINT "tinkoff_instrument_instrument_kind_id_fk" FOREIGN KEY ("instrument_kind_id") REFERENCES "tin"."tinkoff_instrument_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_instrument_trading_status_id_idx" ON "tin"."tinkoff_instrument" USING btree ("trading_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_instrument_real_exchange_id_idx" ON "tin"."tinkoff_instrument" USING btree ("real_exchange_id");
CREATE INDEX IF NOT EXISTS "tinkoff_instrument_instrument_kind_id_idx" ON "tin"."tinkoff_instrument" USING btree ("instrument_kind_id");
COMMENT ON TABLE "tin"."tinkoff_instrument" IS 'Объект передачи основной информации об инструменте.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."class_code" IS 'Класс-код инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."isin" IS 'Isin-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."lot" IS 'Лотность инструмента. Возможно совершение операций только на количества ценной бумаги, кратные параметру *lot*. Подробнее: [лот](https://tinkoff.github.io/investAPI/glossary#lot)';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."currency" IS 'Валюта расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."klong_units" IS 'Коэффициент ставки риска длинной позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."klong_nano" IS 'Коэффициент ставки риска длинной позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."kshort_units" IS 'Коэффициент ставки риска короткой позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."kshort_nano" IS 'Коэффициент ставки риска короткой позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dlong_units" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dlong_nano" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dshort_units" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dshort_nano" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dlong_min_units" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dlong_min_nano" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dshort_min_units" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."dshort_min_nano" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."short_enabled_flag" IS 'Признак доступности для операций в шорт.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."exchange" IS 'Торговая площадка.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."country_of_risk" IS 'Код страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."country_of_risk_name" IS 'Наименование страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."trading_status_id" IS 'Текущий режим торгов инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."buy_available_flag" IS 'Признак доступности для покупки.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."sell_available_flag" IS 'Признак доступности для продажи.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."min_price_increment_units" IS 'Шаг цены. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."min_price_increment_nano" IS 'Шаг цены. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."real_exchange_id" IS 'Реальная площадка исполнения расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."position_uid" IS 'Уникальный идентификатор позиции инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."for_iis_flag" IS 'Признак доступности для ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."blocked_tca_flag" IS 'Флаг заблокированного ТКС';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."instrument_kind_id" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."first_1min_candle_date" IS 'Дата первой минутной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_instrument"."first_1day_candle_date" IS 'Дата первой дневной свечи.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_operation_item" (
	"cursor" text NOT NULL,
	"broker_account_id" text NOT NULL,
	"id" text NOT NULL,
	"parent_operation_id" text NOT NULL,
	"name" text NOT NULL,
	"date" timestamptz NULL,
	"type_id" bigint NULL,
	"description" text NOT NULL,
	"state_id" bigint NULL,
	"instrument_uid" text NOT NULL,
	"figi" text NOT NULL,
	"instrument_type" text NOT NULL,
	"instrument_kind_id" bigint NULL,
	"position_uid" text NOT NULL,
	"payment_currency" text NOT NULL,
	"payment_units" bigint NOT NULL,
	"payment_nano" integer NOT NULL,
	"price_currency" text NOT NULL,
	"price_units" bigint NOT NULL,
	"price_nano" integer NOT NULL,
	"commission_currency" text NOT NULL,
	"commission_units" bigint NOT NULL,
	"commission_nano" integer NOT NULL,
	"yield_currency" text NOT NULL,
	"yield_units" bigint NOT NULL,
	"yield_nano" integer NOT NULL,
	"yield_relative_units" bigint NOT NULL,
	"yield_relative_nano" integer NOT NULL,
	"accrued_int_currency" text NOT NULL,
	"accrued_int_units" bigint NOT NULL,
	"accrued_int_nano" integer NOT NULL,
	"quantity" bigint NOT NULL,
	"quantity_rest" bigint NOT NULL,
	"quantity_done" bigint NOT NULL,
	"cancel_date_time" timestamptz NULL,
	"cancel_reason" text NOT NULL,
	"asset_uid" text NOT NULL,
	CONSTRAINT "tinkoff_operation_item_pk" PRIMARY KEY ("id"),
	CONSTRAINT "tinkoff_operation_item_type_id_fk" FOREIGN KEY ("type_id") REFERENCES "tin"."tinkoff_operation_type" ("id"),
	CONSTRAINT "tinkoff_operation_item_state_id_fk" FOREIGN KEY ("state_id") REFERENCES "tin"."tinkoff_operation_state" ("id"),
	CONSTRAINT "tinkoff_operation_item_instrument_kind_id_fk" FOREIGN KEY ("instrument_kind_id") REFERENCES "tin"."tinkoff_instrument_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_operation_item_type_id_idx" ON "tin"."tinkoff_operation_item" USING btree ("type_id");
CREATE INDEX IF NOT EXISTS "tinkoff_operation_item_state_id_idx" ON "tin"."tinkoff_operation_item" USING btree ("state_id");
CREATE INDEX IF NOT EXISTS "tinkoff_operation_item_instrument_kind_id_idx" ON "tin"."tinkoff_operation_item" USING btree ("instrument_kind_id");
COMMENT ON TABLE "tin"."tinkoff_operation_item" IS 'Данные об операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."cursor" IS 'Курсор.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."broker_account_id" IS 'Номер счета клиента.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."id" IS 'Идентификатор операции, может меняться с течением времени.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."parent_operation_id" IS 'Идентификатор родительской операции, может измениться, если изменился id родительской операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."name" IS 'Название операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."date" IS 'Дата поручения.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."type_id" IS 'Тип операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."description" IS 'Описание операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."state_id" IS 'Статус поручения.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."instrument_uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."figi" IS 'Figi.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."instrument_type" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."instrument_kind_id" IS 'Тип инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."position_uid" IS 'position_uid-идентификатора инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."payment_currency" IS 'Сумма операции. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."payment_units" IS 'Сумма операции. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."payment_nano" IS 'Сумма операции. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."price_currency" IS 'Цена операции за 1 инструмент. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."price_units" IS 'Цена операции за 1 инструмент. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."price_nano" IS 'Цена операции за 1 инструмент. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."commission_currency" IS 'Комиссия. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."commission_units" IS 'Комиссия. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."commission_nano" IS 'Комиссия. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."yield_currency" IS 'Доходность. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."yield_units" IS 'Доходность. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."yield_nano" IS 'Доходность. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."yield_relative_units" IS 'Относительная доходность. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."yield_relative_nano" IS 'Относительная доходность. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."accrued_int_currency" IS 'Накопленный купонный доход. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."accrued_int_units" IS 'Накопленный купонный доход. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."accrued_int_nano" IS 'Накопленный купонный доход. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."quantity" IS 'Количество единиц инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."quantity_rest" IS 'Неисполненный остаток по сделке.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."quantity_done" IS 'Исполненный остаток.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."cancel_date_time" IS 'Дата и время снятия заявки.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."cancel_reason" IS 'Причина отмены операции.';
COMMENT ON COLUMN "tin"."tinkoff_operation_item"."asset_uid" IS 'Идентификатор актива';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_order_state" (
	"order_id" text NOT NULL,
	"execution_report_status_id" bigint NULL,
	"lots_requested" bigint NOT NULL,
	"lots_executed" bigint NOT NULL,
	"initial_order_price_currency" text NOT NULL,
	"initial_order_price_units" bigint NOT NULL,
	"initial_order_price_nano" integer NOT NULL,
	"executed_order_price_currency" text NOT NULL,
	"executed_order_price_units" bigint NOT NULL,
	"executed_order_price_nano" integer NOT NULL,
	"total_order_amount_currency" text NOT NULL,
	"total_order_amount_units" bigint NOT NULL,
	"total_order_amount_nano" integer NOT NULL,
	"average_position_price_currency" text NOT NULL,
	"average_position_price_units" bigint NOT NULL,
	"average_position_price_nano" integer NOT NULL,
	"initial_commission_currency" text NOT NULL,
	"initial_commission_units" bigint NOT NULL,
	"initial_commission_nano" integer NOT NULL,
	"executed_commission_currency" text NOT NULL,
	"executed_commission_units" bigint NOT NULL,
	"executed_commission_nano" integer NOT NULL,
	"figi" text NOT NULL,
	"direction_id" bigint NULL,
	"initial_security_price_currency" text NOT NULL,
	"initial_security_price_units" bigint NOT NULL,
	"initial_security_price_nano" integer NOT NULL,
	"service_commission_currency" text NOT NULL,
	"service_commission_units" bigint NOT NULL,
	"service_commission_nano" integer NOT NULL,
	"currency" text NOT NULL,
	"order_type_id" bigint NULL,
	"order_date" timestamptz NULL,
	"instrument_uid" text NOT NULL,
	"order_request_id" text NOT NULL,
	CONSTRAINT "tinkoff_order_state_pk" PRIMARY KEY ("figi"),
	CONSTRAINT "tinkoff_order_state_execution_report_status_id_fk" FOREIGN KEY ("execution_report_status_id") REFERENCES "tin"."tinkoff_order_execution_report_status" ("id"),
	CONSTRAINT "tinkoff_order_state_direction_id_fk" FOREIGN KEY ("direction_id") REFERENCES "tin"."tinkoff_order_direction" ("id"),
	CONSTRAINT "tinkoff_order_state_order_type_id_fk" FOREIGN KEY ("order_type_id") REFERENCES "tin"."tinkoff_order_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_order_state_execution_report_status_id_idx" ON "tin"."tinkoff_order_state" USING btree ("execution_report_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_order_state_direction_id_idx" ON "tin"."tinkoff_order_state" USING btree ("direction_id");
CREATE INDEX IF NOT EXISTS "tinkoff_order_state_order_type_id_idx" ON "tin"."tinkoff_order_state" USING btree ("order_type_id");
COMMENT ON TABLE "tin"."tinkoff_order_state" IS 'Информация о торговом поручении.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."order_id" IS 'Биржевой идентификатор заявки.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."execution_report_status_id" IS 'Текущий статус заявки.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."lots_requested" IS 'Запрошено лотов.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."lots_executed" IS 'Исполнено лотов.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_order_price_currency" IS 'Начальная цена заявки. Произведение количества запрошенных лотов на цену. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_order_price_units" IS 'Начальная цена заявки. Произведение количества запрошенных лотов на цену. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_order_price_nano" IS 'Начальная цена заявки. Произведение количества запрошенных лотов на цену. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."executed_order_price_currency" IS 'Исполненная цена заявки. Произведение средней цены покупки на количество лотов. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."executed_order_price_units" IS 'Исполненная цена заявки. Произведение средней цены покупки на количество лотов. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."executed_order_price_nano" IS 'Исполненная цена заявки. Произведение средней цены покупки на количество лотов. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."total_order_amount_currency" IS 'Итоговая стоимость заявки, включающая все комиссии. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."total_order_amount_units" IS 'Итоговая стоимость заявки, включающая все комиссии. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."total_order_amount_nano" IS 'Итоговая стоимость заявки, включающая все комиссии. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."average_position_price_currency" IS 'Средняя цена позиции по сделке. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."average_position_price_units" IS 'Средняя цена позиции по сделке. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."average_position_price_nano" IS 'Средняя цена позиции по сделке. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_commission_currency" IS 'Начальная комиссия. Комиссия, рассчитанная на момент подачи заявки. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_commission_units" IS 'Начальная комиссия. Комиссия, рассчитанная на момент подачи заявки. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_commission_nano" IS 'Начальная комиссия. Комиссия, рассчитанная на момент подачи заявки. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."executed_commission_currency" IS 'Фактическая комиссия по итогам исполнения заявки. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."executed_commission_units" IS 'Фактическая комиссия по итогам исполнения заявки. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."executed_commission_nano" IS 'Фактическая комиссия по итогам исполнения заявки. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."direction_id" IS 'Направление заявки.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_security_price_currency" IS 'Начальная цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_security_price_units" IS 'Начальная цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."initial_security_price_nano" IS 'Начальная цена за 1 инструмент. Для получения стоимости лота требуется умножить на лотность инструмента. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."service_commission_currency" IS 'Сервисная комиссия. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."service_commission_units" IS 'Сервисная комиссия. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."service_commission_nano" IS 'Сервисная комиссия. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."currency" IS 'Валюта заявки.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."order_type_id" IS 'Тип заявки.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."order_date" IS 'Дата и время выставления заявки в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."instrument_uid" IS 'UID идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_order_state"."order_request_id" IS 'Идентификатор ключа идемпотентности, переданный клиентом.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_share" (
	"figi" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"isin" text NOT NULL,
	"lot" integer NOT NULL,
	"currency" text NOT NULL,
	"klong_units" bigint NOT NULL,
	"klong_nano" integer NOT NULL,
	"kshort_units" bigint NOT NULL,
	"kshort_nano" integer NOT NULL,
	"dlong_units" bigint NOT NULL,
	"dlong_nano" integer NOT NULL,
	"dshort_units" bigint NOT NULL,
	"dshort_nano" integer NOT NULL,
	"dlong_min_units" bigint NOT NULL,
	"dlong_min_nano" integer NOT NULL,
	"dshort_min_units" bigint NOT NULL,
	"dshort_min_nano" integer NOT NULL,
	"short_enabled_flag" bool NOT NULL,
	"name" text NOT NULL,
	"exchange" text NOT NULL,
	"ipo_date" timestamptz NULL,
	"issue_size" bigint NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	"sector" text NOT NULL,
	"issue_size_plan" bigint NOT NULL,
	"nominal_currency" text NOT NULL,
	"nominal_units" bigint NOT NULL,
	"nominal_nano" integer NOT NULL,
	"trading_status_id" bigint NULL,
	"otc_flag" bool NOT NULL,
	"buy_available_flag" bool NOT NULL,
	"sell_available_flag" bool NOT NULL,
	"div_yield_flag" bool NOT NULL,
	"share_type_id" bigint NULL,
	"min_price_increment_units" bigint NOT NULL,
	"min_price_increment_nano" integer NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	"uid" text NOT NULL,
	"real_exchange_id" bigint NULL,
	"position_uid" text NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	"liquidity_flag" bool NOT NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	CONSTRAINT "tinkoff_share_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_share_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id"),
	CONSTRAINT "tinkoff_share_share_type_id_fk" FOREIGN KEY ("share_type_id") REFERENCES "tin"."tinkoff_share_type" ("id"),
	CONSTRAINT "tinkoff_share_real_exchange_id_fk" FOREIGN KEY ("real_exchange_id") REFERENCES "tin"."tinkoff_real_exchange" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_share_trading_status_id_idx" ON "tin"."tinkoff_share" USING btree ("trading_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_share_share_type_id_idx" ON "tin"."tinkoff_share" USING btree ("share_type_id");
CREATE INDEX IF NOT EXISTS "tinkoff_share_real_exchange_id_idx" ON "tin"."tinkoff_share" USING btree ("real_exchange_id");
COMMENT ON TABLE "tin"."tinkoff_share" IS 'Объект передачи информации об акции.';
COMMENT ON COLUMN "tin"."tinkoff_share"."figi" IS 'Figi-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_share"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_share"."class_code" IS 'Класс-код (секция торгов).';
COMMENT ON COLUMN "tin"."tinkoff_share"."isin" IS 'Isin-идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_share"."lot" IS 'Лотность инструмента. Возможно совершение операций только на количества ценной бумаги, кратные параметру *lot*. Подробнее: [лот](https://tinkoff.github.io/investAPI/glossary#lot)';
COMMENT ON COLUMN "tin"."tinkoff_share"."currency" IS 'Валюта расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_share"."klong_units" IS 'Коэффициент ставки риска длинной позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."klong_nano" IS 'Коэффициент ставки риска длинной позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."kshort_units" IS 'Коэффициент ставки риска короткой позиции по инструменту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."kshort_nano" IS 'Коэффициент ставки риска короткой позиции по инструменту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dlong_units" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dlong_nano" IS 'Ставка риска минимальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dshort_units" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dshort_nano" IS 'Ставка риска минимальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dlong_min_units" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dlong_min_nano" IS 'Ставка риска начальной маржи в лонг. Подробнее: [ставка риска в лонг](https://help.tinkoff.ru/margin-trade/long/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dshort_min_units" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."dshort_min_nano" IS 'Ставка риска начальной маржи в шорт. Подробнее: [ставка риска в шорт](https://help.tinkoff.ru/margin-trade/short/risk-rate/) / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."short_enabled_flag" IS 'Признак доступности для операций в шорт.';
COMMENT ON COLUMN "tin"."tinkoff_share"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_share"."exchange" IS 'Торговая площадка.';
COMMENT ON COLUMN "tin"."tinkoff_share"."ipo_date" IS 'Дата IPO акции в часовом поясе UTC.';
COMMENT ON COLUMN "tin"."tinkoff_share"."issue_size" IS 'Размер выпуска.';
COMMENT ON COLUMN "tin"."tinkoff_share"."country_of_risk" IS 'Код страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_share"."country_of_risk_name" IS 'Наименование страны риска, т.е. страны, в которой компания ведёт основной бизнес.';
COMMENT ON COLUMN "tin"."tinkoff_share"."sector" IS 'Сектор экономики.';
COMMENT ON COLUMN "tin"."tinkoff_share"."issue_size_plan" IS 'Плановый размер выпуска.';
COMMENT ON COLUMN "tin"."tinkoff_share"."nominal_currency" IS 'Номинал. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_share"."nominal_units" IS 'Номинал. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."nominal_nano" IS 'Номинал. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."trading_status_id" IS 'Текущий режим торгов инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_share"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_share"."buy_available_flag" IS 'Признак доступности для покупки.';
COMMENT ON COLUMN "tin"."tinkoff_share"."sell_available_flag" IS 'Признак доступности для продажи.';
COMMENT ON COLUMN "tin"."tinkoff_share"."div_yield_flag" IS 'Признак наличия дивидендной доходности.';
COMMENT ON COLUMN "tin"."tinkoff_share"."share_type_id" IS 'Тип акции. Возможные значения: [ShareType](https://tinkoff.github.io/investAPI/instruments#sharetype)';
COMMENT ON COLUMN "tin"."tinkoff_share"."min_price_increment_units" IS 'Шаг цены. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."min_price_increment_nano" IS 'Шаг цены. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_share"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';
COMMENT ON COLUMN "tin"."tinkoff_share"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_share"."real_exchange_id" IS 'Реальная площадка исполнения расчётов.';
COMMENT ON COLUMN "tin"."tinkoff_share"."position_uid" IS 'Уникальный идентификатор позиции инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_share"."for_iis_flag" IS 'Признак доступности для ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_share"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_share"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным';
COMMENT ON COLUMN "tin"."tinkoff_share"."blocked_tca_flag" IS 'Флаг заблокированного ТКС';
COMMENT ON COLUMN "tin"."tinkoff_share"."liquidity_flag" IS 'Флаг достаточной ликвидности';
COMMENT ON COLUMN "tin"."tinkoff_share"."first_1min_candle_date" IS 'Дата первой минутной свечи.';
COMMENT ON COLUMN "tin"."tinkoff_share"."first_1day_candle_date" IS 'Дата первой дневной свечи.';

CREATE TABLE IF NOT EXISTS "tin"."tinkoff_option" (
	"uid" text NOT NULL,
	"position_uid" text NOT NULL,
	"ticker" text NOT NULL,
	"class_code" text NOT NULL,
	"basic_asset_position_uid" text NOT NULL,
	"trading_status_id" bigint NULL,
	"real_exchange_id" bigint NULL,
	"direction_id" bigint NULL,
	"payment_type_id" bigint NULL,
	"style_id" bigint NULL,
	"settlement_type_id" bigint NULL,
	"name" text NOT NULL,
	"currency" text NOT NULL,
	"settlement_currency" text NOT NULL,
	"asset_type" text NOT NULL,
	"basic_asset" text NOT NULL,
	"exchange" text NOT NULL,
	"country_of_risk" text NOT NULL,
	"country_of_risk_name" text NOT NULL,
	"sector" text NOT NULL,
	"lot" integer NOT NULL,
	"basic_asset_size_units" bigint NOT NULL,
	"basic_asset_size_nano" integer NOT NULL,
	"klong_units" bigint NOT NULL,
	"klong_nano" integer NOT NULL,
	"kshort_units" bigint NOT NULL,
	"kshort_nano" integer NOT NULL,
	"dlong_units" bigint NOT NULL,
	"dlong_nano" integer NOT NULL,
	"dshort_units" bigint NOT NULL,
	"dshort_nano" integer NOT NULL,
	"dlong_min_units" bigint NOT NULL,
	"dlong_min_nano" integer NOT NULL,
	"dshort_min_units" bigint NOT NULL,
	"dshort_min_nano" integer NOT NULL,
	"min_price_increment_units" bigint NOT NULL,
	"min_price_increment_nano" integer NOT NULL,
	"strike_price_currency" text NOT NULL,
	"strike_price_units" bigint NOT NULL,
	"strike_price_nano" integer NOT NULL,
	"expiration_date" timestamptz NULL,
	"first_trade_date" timestamptz NULL,
	"last_trade_date" timestamptz NULL,
	"first_1min_candle_date" timestamptz NULL,
	"first_1day_candle_date" timestamptz NULL,
	"short_enabled_flag" bool NOT NULL,
	"for_iis_flag" bool NOT NULL,
	"otc_flag" bool NOT NULL,
	"buy_available_flag" bool NOT NULL,
	"sell_available_flag" bool NOT NULL,
	"for_qual_investor_flag" bool NOT NULL,
	"weekend_flag" bool NOT NULL,
	"blocked_tca_flag" bool NOT NULL,
	"api_trade_available_flag" bool NOT NULL,
	CONSTRAINT "tinkoff_option_pk" PRIMARY KEY ("uid"),
	CONSTRAINT "tinkoff_option_trading_status_id_fk" FOREIGN KEY ("trading_status_id") REFERENCES "tin"."tinkoff_security_trading_status" ("id"),
	CONSTRAINT "tinkoff_option_real_exchange_id_fk" FOREIGN KEY ("real_exchange_id") REFERENCES "tin"."tinkoff_real_exchange" ("id"),
	CONSTRAINT "tinkoff_option_direction_id_fk" FOREIGN KEY ("direction_id") REFERENCES "tin"."tinkoff_option_direction" ("id"),
	CONSTRAINT "tinkoff_option_payment_type_id_fk" FOREIGN KEY ("payment_type_id") REFERENCES "tin"."tinkoff_option_payment_type" ("id"),
	CONSTRAINT "tinkoff_option_style_id_fk" FOREIGN KEY ("style_id") REFERENCES "tin"."tinkoff_option_style" ("id"),
	CONSTRAINT "tinkoff_option_settlement_type_id_fk" FOREIGN KEY ("settlement_type_id") REFERENCES "tin"."tinkoff_option_settlement_type" ("id")
);
CREATE INDEX IF NOT EXISTS "tinkoff_option_trading_status_id_idx" ON "tin"."tinkoff_option" USING btree ("trading_status_id");
CREATE INDEX IF NOT EXISTS "tinkoff_option_real_exchange_id_idx" ON "tin"."tinkoff_option" USING btree ("real_exchange_id");
CREATE INDEX IF NOT EXISTS "tinkoff_option_direction_id_idx" ON "tin"."tinkoff_option" USING btree ("direction_id");
CREATE INDEX IF NOT EXISTS "tinkoff_option_payment_type_id_idx" ON "tin"."tinkoff_option" USING btree ("payment_type_id");
CREATE INDEX IF NOT EXISTS "tinkoff_option_style_id_idx" ON "tin"."tinkoff_option" USING btree ("style_id");
CREATE INDEX IF NOT EXISTS "tinkoff_option_settlement_type_id_idx" ON "tin"."tinkoff_option" USING btree ("settlement_type_id");
COMMENT ON TABLE "tin"."tinkoff_option" IS 'Опцион.';
COMMENT ON COLUMN "tin"."tinkoff_option"."uid" IS 'Уникальный идентификатор инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_option"."position_uid" IS 'Уникальный идентификатор позиции.';
COMMENT ON COLUMN "tin"."tinkoff_option"."ticker" IS 'Тикер инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_option"."class_code" IS 'Класс-код.';
COMMENT ON COLUMN "tin"."tinkoff_option"."basic_asset_position_uid" IS 'Уникальный идентификатор позиции основного инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_option"."trading_status_id" IS 'Текущий режим торгов инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_option"."real_exchange_id" IS 'Реальная площадка исполнения расчётов. Допустимые значения: [REAL_EXCHANGE_MOEX, REAL_EXCHANGE_RTS]';
COMMENT ON COLUMN "tin"."tinkoff_option"."direction_id" IS 'Направление опциона.';
COMMENT ON COLUMN "tin"."tinkoff_option"."payment_type_id" IS 'Тип расчетов по опциону.';
COMMENT ON COLUMN "tin"."tinkoff_option"."style_id" IS 'Стиль опциона.';
COMMENT ON COLUMN "tin"."tinkoff_option"."settlement_type_id" IS 'Способ исполнения опциона.';
COMMENT ON COLUMN "tin"."tinkoff_option"."name" IS 'Название инструмента.';
COMMENT ON COLUMN "tin"."tinkoff_option"."currency" IS 'Валюта.';
COMMENT ON COLUMN "tin"."tinkoff_option"."settlement_currency" IS 'Валюта, в которой оценивается контракт.';
COMMENT ON COLUMN "tin"."tinkoff_option"."asset_type" IS 'Тип актива.';
COMMENT ON COLUMN "tin"."tinkoff_option"."basic_asset" IS 'Основной актив.';
COMMENT ON COLUMN "tin"."tinkoff_option"."exchange" IS 'Биржа.';
COMMENT ON COLUMN "tin"."tinkoff_option"."country_of_risk" IS 'Код страны рисков.';
COMMENT ON COLUMN "tin"."tinkoff_option"."country_of_risk_name" IS 'Наименование страны рисков.';
COMMENT ON COLUMN "tin"."tinkoff_option"."sector" IS 'Сектор экономики.';
COMMENT ON COLUMN "tin"."tinkoff_option"."lot" IS 'Количество бумаг в лоте.';
COMMENT ON COLUMN "tin"."tinkoff_option"."basic_asset_size_units" IS 'Размер основного актива. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."basic_asset_size_nano" IS 'Размер основного актива. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."klong_units" IS 'Коэффициент ставки риска длинной позиции по клиенту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."klong_nano" IS 'Коэффициент ставки риска длинной позиции по клиенту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."kshort_units" IS 'Коэффициент ставки риска короткой позиции по клиенту. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."kshort_nano" IS 'Коэффициент ставки риска короткой позиции по клиенту. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dlong_units" IS 'Ставка риска минимальной маржи лонг. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dlong_nano" IS 'Ставка риска минимальной маржи лонг. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dshort_units" IS 'Ставка риска минимальной маржи шорт. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dshort_nano" IS 'Ставка риска минимальной маржи шорт. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dlong_min_units" IS 'Ставка риска начальной маржи лонг. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dlong_min_nano" IS 'Ставка риска начальной маржи лонг. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dshort_min_units" IS 'Ставка риска начальной маржи шорт. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."dshort_min_nano" IS 'Ставка риска начальной маржи шорт. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."min_price_increment_units" IS 'Минимальный шаг цены. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."min_price_increment_nano" IS 'Минимальный шаг цены. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."strike_price_currency" IS 'Цена страйка. / строковый ISO-код валюты';
COMMENT ON COLUMN "tin"."tinkoff_option"."strike_price_units" IS 'Цена страйка. / целая часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."strike_price_nano" IS 'Цена страйка. / дробная часть суммы, может быть отрицательным числом';
COMMENT ON COLUMN "tin"."tinkoff_option"."expiration_date" IS 'Дата истечения срока в формате UTC.';
COMMENT ON COLUMN "tin"."tinkoff_option"."first_trade_date" IS 'Дата начала обращения контракта в формате UTC.';
COMMENT ON COLUMN "tin"."tinkoff_option"."last_trade_date" IS 'Дата исполнения в формате UTC.';
COMMENT ON COLUMN "tin"."tinkoff_option"."first_1min_candle_date" IS 'Дата первой минутной свечи в формате UTC.';
COMMENT ON COLUMN "tin"."tinkoff_option"."first_1day_candle_date" IS 'Дата первой дневной свечи в формате UTC.';
COMMENT ON COLUMN "tin"."tinkoff_option"."short_enabled_flag" IS 'Признак доступности для операций шорт.';
COMMENT ON COLUMN "tin"."tinkoff_option"."for_iis_flag" IS 'Возможность покупки/продажи на ИИС.';
COMMENT ON COLUMN "tin"."tinkoff_option"."otc_flag" IS 'Признак внебиржевой ценной бумаги.';
COMMENT ON COLUMN "tin"."tinkoff_option"."buy_available_flag" IS 'Признак доступности для покупки.';
COMMENT ON COLUMN "tin"."tinkoff_option"."sell_available_flag" IS 'Признак доступности для продажи.';
COMMENT ON COLUMN "tin"."tinkoff_option"."for_qual_investor_flag" IS 'Флаг отображающий доступность торговли инструментом только для квалифицированных инвесторов.';
COMMENT ON COLUMN "tin"."tinkoff_option"."weekend_flag" IS 'Флаг отображающий доступность торговли инструментом по выходным.';
COMMENT ON COLUMN "tin"."tinkoff_option"."blocked_tca_flag" IS 'Флаг заблокированного ТКС.';
COMMENT ON COLUMN "tin"."tinkoff_option"."api_trade_available_flag" IS 'Параметр указывает на возможность торговать инструментом через API.';

